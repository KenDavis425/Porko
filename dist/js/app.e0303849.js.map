{"version":3,"file":"js/app.e0303849.js","mappings":"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","sources":["webpack://my-vue-app/./src/App.vue","webpack://my-vue-app/./src/components/Home.vue","webpack://my-vue-app/./src/firebase.js","webpack://my-vue-app/./src/components/Comments.vue","webpack://my-vue-app/./src/components/Comments.vue?bff9","webpack://my-vue-app/./src/components/StarRating.vue","webpack://my-vue-app/./src/components/StarRating.vue?3b7a","webpack://my-vue-app/./src/utils/geolocation.js","webpack://my-vue-app/./src/components/Home.vue?08c6","webpack://my-vue-app/./src/components/Restaurants.vue","webpack://my-vue-app/./src/components/EditRestaurantModal.vue","webpack://my-vue-app/./src/components/EditRestaurantModal.vue?95b0","webpack://my-vue-app/./src/components/RestaurantReviewsModal.vue","webpack://my-vue-app/./src/components/RestaurantReviewsModal.vue?292d","webpack://my-vue-app/./src/components/Restaurants.vue?77bd","webpack://my-vue-app/./src/components/UserSearch.vue","webpack://my-vue-app/./src/components/UserReviewsModal.vue","webpack://my-vue-app/./src/components/UserReviewsModal.vue?7212","webpack://my-vue-app/./src/components/UserSearch.vue?3330","webpack://my-vue-app/./src/components/Review.vue","webpack://my-vue-app/./src/components/Review.vue?483a","webpack://my-vue-app/./src/components/Recommendations.vue","webpack://my-vue-app/./src/components/Recommendations.vue?77a3","webpack://my-vue-app/./src/components/DatabaseStats.vue","webpack://my-vue-app/./src/components/DatabaseStats.vue?5e68","webpack://my-vue-app/./src/components/MyReviews.vue","webpack://my-vue-app/./src/components/EditReviewModal.vue","webpack://my-vue-app/./src/components/EditReviewModal.vue?7060","webpack://my-vue-app/./src/components/MyReviews.vue?9029","webpack://my-vue-app/./src/components/Leaderboard.vue","webpack://my-vue-app/./src/components/Leaderboard.vue?23d5","webpack://my-vue-app/./src/components/Followers.vue","webpack://my-vue-app/./src/components/Followers.vue?990e","webpack://my-vue-app/./src/components/BucketList.vue","webpack://my-vue-app/./src/components/BucketList.vue?ed3b","webpack://my-vue-app/./src/components/Following.vue","webpack://my-vue-app/./src/components/Following.vue?4786","webpack://my-vue-app/./src/sampleData.js","webpack://my-vue-app/./src/App.vue?7ccd","webpack://my-vue-app/./src/registerServiceWorker.js","webpack://my-vue-app/./src/main.js","webpack://my-vue-app/./src/utils/geocoding.js","webpack://my-vue-app/webpack/bootstrap","webpack://my-vue-app/webpack/runtime/chunk loaded","webpack://my-vue-app/webpack/runtime/define property getters","webpack://my-vue-app/webpack/runtime/global","webpack://my-vue-app/webpack/runtime/hasOwnProperty shorthand","webpack://my-vue-app/webpack/runtime/jsonp chunk loading","webpack://my-vue-app/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div v-if=\"!user\" class=\"login-container\">\n      <img src=\"/logo.svg\" alt=\"Porko Logo\" class=\"tenderloin-img\" />\n      <h2>Welcome to Porko!</h2>\n      <p class=\"login-desc\">Find, review, and share the best breaded pork tenderloin sandwiches!</p>\n      <button class=\"login-btn\" @click=\"loginWithGoogle\">Login with Google</button>\n    </div>\n    <div v-else class=\"main-layout\" :class=\"{ 'sidebar-collapsed': isSidebarCollapsed }\">\n      <aside class=\"sidebar\">\n        <div class=\"sidebar-top\">\n          <button class=\"sidebar-toggle\" @click=\"toggleSidebar\" title=\"Toggle Sidebar\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/></svg>\n          </button>\n          <div class=\"sidebar-header\">\n            <img :src=\"user.photoURL || 'https://cdn-icons-png.flaticon.com/512/149/149071.png'\" class=\"sidebar-avatar\" alt=\"User\" referrerpolicy=\"no-referrer\" />\n            <div class=\"sidebar-user\">{{ user.displayName }}</div>\n          </div>\n          <nav class=\"sidebar-nav\">\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'home' }\" @click=\"goToHome\" title=\"Home\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z\"/></svg>\n              <span>Home</span>\n            </button>\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'leaderboard' }\" @click=\"goToLeaderboard\" title=\"Leaderboard\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M16 11V3H8v6H2v12h20V11h-6zm-6-6h4v14h-4V5zm-6 6h4v8H4v-8zm16 8h-4v-8h4v8z\"/></svg>\n              <span>Leaderboard</span>\n            </button>\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'review' }\" @click=\"goToReview\" title=\"Write a Review\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm-1.5 9h-2v-2h2v2zm5 0h-2v-2h2v2zm-2.5-4h-2V5h2v2z\"/></svg>\n              <span>Write a Review</span>\n            </button>\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'restaurants' }\" @click=\"goToRestaurants\" title=\"Restaurants\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M16 6v8h3v8h-3v-2h-2v2h-2v-2h-2v2H8v-2H6v2H3v-8h3V6c0-3.31 2.69-6 6-6s6 2.69 6 6zm-2 0c0-2.21-1.79-4-4-4s-4 1.79-4 4v8h8V6zm-5 3h2v2h-2z\"/></svg>\n              <span>Restaurants</span>\n            </button>\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'recommendations' }\" @click=\"goToRecommendations\" title=\"Recommendations\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27z\"/></svg>\n              <span>Recommendations</span>\n            </button>\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'user-search' }\" @click=\"goToUserSearch\" title=\"Follow Users\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 5 1.41-1.41L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM12 10V7H8v3H5v2h3v3h2v-3h3v-2h-3z\"/></svg>\n              <span>Follow Users</span>\n            </button>\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'bucket-list' }\" @click=\"goToBucketList\" title=\"My Bucket List\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M18 7h-2.06c-.33-3.2-2.46-5.8-5.94-5.8S4.39 3.8 4.06 7H2v12h16V7zM6.14 7c.2-1.92 1.6-3.48 3.86-3.8A4.002 4.002 0 0 1 14 7h-2.14c-.2-1.92-1.6-3.48-3.86-3.8zM16 17H4v-8h12v8z\"/></svg>\n              <span>My Bucket List</span>\n            </button>\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'my-reviews' }\" @click=\"goToMyReviews\" title=\"My Reviews\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z\"/></svg>\n              <span>My Reviews</span>\n            </button>\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'followers' }\" @click=\"goToFollowers\" title=\"My Followers\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z\"/></svg>\n              <span>My Followers</span>\n            </button>\n            <button class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'following' }\" @click=\"goToFollowing\" title=\"Following\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><circle cx=\"6.18\" cy=\"17.82\" r=\"2.18\"/><path d=\"M4 4.44v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9zM4 10.1v2.83c2.39 0 4.33 1.94 4.33 4.33h2.83c0-3.98-3.23-7.16-7.16-7.16z\"/></svg>\n              <span>Following</span>\n            </button>\n          </nav>\n        </div>\n        <div class=\"sidebar-bottom\">\n            <button v-if=\"isAdmin\" class=\"sidebar-link\" :class=\"{ 'active': currentPage === 'database-stats' }\" @click=\"goToDatabaseStats\" title=\"Database Stats\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z\"/></svg>\n              <span>Database Stats</span>\n            </button>\n            <button class=\"sidebar-link\" @click=\"logout\" title=\"Logout\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5-5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"/></svg>\n              <span>Logout</span>\n            </button>\n        </div>\n      </aside>\n      <main class=\"main-content\">\n        <component \n          :is=\"currentComponent\" \n          @reviewed=\"goToHome\"\n          @check-in-at=\"reviewAt\"\n          @review-at=\"reviewAt\"\n          @go-to-review=\"goToReview\"\n          :selected-restaurant-id=\"selectedRestaurantForReview\"\n        />\n      </main>\n    </div>\n    <div v-if=\"updateExists\" class=\"update-banner\">\n      A new version is available.\n      <button @click=\"refreshApp\">Refresh</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Home from './components/Home.vue';\nimport Restaurants from './components/Restaurants.vue';\nimport UserSearch from './components/UserSearch.vue';\nimport Review from './components/Review.vue';\nimport Recommendations from './components/Recommendations.vue';\nimport DatabaseStats from './components/DatabaseStats.vue';\nimport MyReviews from './components/MyReviews.vue';\nimport Leaderboard from './components/Leaderboard.vue';\nimport Followers from './components/Followers.vue';\nimport BucketList from './components/BucketList.vue';\nimport Following from './components/Following.vue';\nimport { seedSampleData } from './sampleData';\nimport { ref, computed } from 'vue';\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { auth, provider, signInWithPopup, signOut, db } from './firebase';\nimport { collection, query, where, getDocs, doc, setDoc, getDoc, writeBatch } from 'firebase/firestore';\n\nexport default {\n  name: 'App',\n  components: {\n    Home,\n    Restaurants,\n    BucketList,\n    UserSearch,\n    Review,\n    Recommendations,\n    DatabaseStats,\n    MyReviews,\n    Leaderboard,\n    Followers,\n    Following\n  },\n  setup() {\n    const user = ref(null);\n    const currentPage = ref('home');\n    const selectedRestaurantForReview = ref(null);\n    const isSidebarCollapsed = ref(window.innerWidth < 768);\n    const updateExists = ref(false);\n    const registration = ref(null);\n    let refreshing = false;\n\n    const refreshApp = () => {\n      updateExists.value = false;\n      // Make sure we have a registration and that there's a waiting worker\n      if (!registration.value || !registration.value.waiting) {\n        return;\n      }\n      // Send a message to the waiting service worker to take over.\n      registration.value.waiting.postMessage({ type: 'SKIP_WAITING' });\n    };\n\n    // This event is dispatched from src/registerServiceWorker.js\n    const onUpdateAvailable = (event) => {\n      registration.value = event.detail;\n      updateExists.value = true;\n    };\n\n    document.addEventListener('swUpdated', onUpdateAvailable, { once: true });\n\n    // Reload the page once the new service worker has taken control.\n    navigator.serviceWorker.addEventListener('controllerchange', () => {\n      if (refreshing) return;\n      refreshing = true;\n      window.location.reload();\n    });\n\n    const isAdmin = computed(() => {\n      return user.value && user.value.email === 'kennected.com@gmail.com';\n    });\n\n    const componentMap = {\n      'home': 'Home',\n      'restaurants': 'Restaurants',\n      'bucket-list': 'BucketList',\n      'user-search': 'UserSearch',\n      'review': 'Review',\n      'my-reviews': 'MyReviews',\n      'recommendations': 'Recommendations',\n      'leaderboard': 'Leaderboard',\n      'cleanup': 'Cleanup',\n      'database-stats': 'DatabaseStats',\n      'followers': 'Followers',\n      'following': 'Following'\n    };\n    const currentComponent = computed(() => componentMap[currentPage.value] || 'Home');\n\n    const toggleSidebar = () => {\n      isSidebarCollapsed.value = !isSidebarCollapsed.value;\n    };\n\n    window.addEventListener('resize', () => {\n      isSidebarCollapsed.value = window.innerWidth < 768;\n    });\n\n    onAuthStateChanged(auth, async (u) => {\n      user.value = u;\n      if (u) {\n        // Check if user exists in 'users' collection, if not, create them\n        const userRef = doc(db, 'users', u.uid);\n        const userSnap = await getDoc(userRef);\n        if (!userSnap.exists()) {\n          await setDoc(userRef, {\n            uid: u.uid,\n            displayName: u.displayName,\n            email: u.email,\n            photoURL: u.photoURL,\n            createdAt: new Date(),\n            reviewCount: 0\n          });\n        }\n      }\n    });\n\n    const loginWithGoogle = async () => {\n      try {\n        await signInWithPopup(auth, provider);\n      } catch (error) {\n        alert('Login failed: ' + error.message);\n      }\n    };\n\n    const logout = async () => {\n      await signOut(auth);\n    };\n\n    const goToHome = () => {\n      currentPage.value = 'home';\n    };\n\n    const goToRestaurants = () => {\n      currentPage.value = 'restaurants';\n    };\n\n    const goToUserSearch = () => {\n      currentPage.value = 'user-search';\n    };\n\n    const goToReview = () => {      \n      currentPage.value = 'review';\n    };\n\n    const goToMyReviews = () => {\n      currentPage.value = 'my-reviews';\n    };\n\n    const goToRecommendations = () => {\n      currentPage.value = 'recommendations';\n    };\n\n    const goToLeaderboard = () => {\n      currentPage.value = 'leaderboard';\n    };\n\n    const goToDatabaseStats = () => {\n      currentPage.value = 'database-stats';\n    };\n\n    const goToFollowers = () => {\n      currentPage.value = 'followers';\n    };\n\n    const goToFollowing = () => {\n      currentPage.value = 'following';\n    };\n\n    const goToBucketList = () => {\n      currentPage.value = 'bucket-list';\n    };\n\n    const reviewAt = (restaurantId) => {\n      selectedRestaurantForReview.value = restaurantId;\n      currentPage.value = 'review';\n    };\n\n    return { user, loginWithGoogle, logout, seedSampleData, currentPage, goToHome, goToRestaurants, goToUserSearch, goToReview, goToMyReviews, goToRecommendations, goToLeaderboard, goToDatabaseStats, goToFollowers, goToFollowing, goToBucketList, reviewAt, selectedRestaurantForReview, isSidebarCollapsed, toggleSidebar, isAdmin, currentComponent, updateExists, refreshApp };\n  }\n}; \n</script>\n\n<style>\n:root {\n  --primary-color: #3498db;\n  --secondary-color: #2c3e50;\n  --background-color: #ecf0f1;\n  --sidebar-background: #ffffff;\n  --text-color: #34495e;\n  --card-background: #ffffff;\n  --shadow-color: rgba(0, 0, 0, 0.1);\n}\n\nbody {\n  font-family: 'Roboto', sans-serif;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  margin: 0;\n}\n\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  touch-action: manipulation;\n}\n\n.login-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  background: linear-gradient(45deg, #3498db, #8e44ad);\n  color: white;\n  text-align: center;\n  padding: 2em;\n}\n\n.tenderloin-img {\n  width: 200px;\n  height: 200px;\n  object-fit: cover;\n  border-radius: 50%;\n  border: 5px solid white;\n  box-shadow: 0 10px 30px rgba(0,0,0,0.2);\n  margin-bottom: 2em;\n}\n\n.login-container h2 {\n    font-size: 3em;\n    font-weight: 700;\n    margin-bottom: 0.5em;\n    text-shadow: 1px 1px 3px rgba(0,0,0,0.2);\n}\n\n.login-desc {\n  font-size: 1.2em;\n  max-width: 500px;\n  margin-bottom: 2em;\n  line-height: 1.5;\n}\n\n.login-btn {\n  background-color: white;\n  color: var(--primary-color);\n  border: none;\n  border-radius: 25px;\n  padding: 15px 35px;\n  font-size: 1.2em;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n  box-shadow: 0 5px 15px rgba(0,0,0,0.1);\n}\n\n.login-btn:hover {\n  transform: translateY(-3px);\n  box-shadow: 0 8px 25px rgba(0,0,0,0.15);\n}\n\n.main-layout {\n  display: flex;\n  height: 100vh;\n}\n\n.sidebar {\n  width: 200px;\n  background: var(--sidebar-background);\n  padding: 2em 1em;\n  box-shadow: 2px 0 5px var(--shadow-color);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  transition: width 0.3s;\n}\n\n.sidebar-top {\n  position: relative;\n}\n\n.main-layout.sidebar-collapsed .sidebar {\n  width: 70px;\n  padding: 2em 0;\n}\n\n.main-layout.sidebar-collapsed .sidebar-link span,\n.main-layout.sidebar-collapsed .sidebar-user {\n  display: none;\n}\n\n.main-layout.sidebar-collapsed .sidebar-link,\n.main-layout.sidebar-collapsed .sidebar-nav button {\n  justify-content: center;\n}\n\n.main-layout.sidebar-collapsed .sidebar-header {\n  display: none;\n}\n\n.sidebar-bottom {\n    display: flex;\n    flex-direction: column;\n    gap: 0.2em;\n}\n\n.sidebar-header {\n  text-align: center;\n  margin-bottom: 2em;\n}\n\n.sidebar-avatar {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  margin-bottom: 1em;\n}\n\n.sidebar-user {\n  font-weight: 600;\n  font-size: 1.2em;\n}\n\n.sidebar-nav {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  gap: 0.2em;\n}\n\n.sidebar-link, .sidebar-nav button {\n  background: none;\n  border: none;\n  color: var(--text-color);\n  padding: 0.5em 1em;\n  text-align: left;\n  font-size: 1em;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background-color 0.2s, color 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.8em;\n  width: 100%;\n}\n\n.sidebar-link:hover, .sidebar-nav button:hover, .sidebar-toggle:hover {\n  background-color: var(--primary-color);\n  color: white;\n}\n\n.sidebar-link.active {\n  background-color: var(--primary-color);\n  color: white;\n}\n\n.sidebar-link svg {\n  flex-shrink: 0;\n}\n\n.main-content {\n  flex: 1;\n  padding: 2em;\n  overflow-y: auto;\n  position: relative;\n}\n\n@media (max-width: 768px) {\n  .main-content {\n    padding: 1em;\n  }\n}\n\n.sidebar-toggle {\n  position: absolute;\n  top: -1em;\n  right: -0.5em;\n  background: none;\n  border: none;\n  padding: 0.5em;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  color: var(--text-color);\n  transition: background-color 0.2s, color 0.2s;\n}\n\n.main-layout.sidebar-collapsed .sidebar-toggle {\n  position: static;\n  margin: -1em auto 1em;\n  background-color: #f0f0f0;\n}\n\n.update-banner {\n  position: fixed;\n  bottom: 1em;\n  right: 1em;\n  background-color: #2c3e50;\n  color: white;\n  padding: 1em 1.5em;\n  border-radius: 8px;\n  box-shadow: 0 4px 10px rgba(0,0,0,0.2);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n}\n\n.update-banner button {\n  margin-left: 1em;\n  background-color: #42b983;\n  color: white;\n  border: none;\n  padding: 0.5em 1em;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: 600;\n}\n</style>","<template>\n  <div class=\"home-page\">\n    <div v-if=\"locationPermission === 'prompt'\" class=\"location-prompt-banner\">\n      <div class=\"banner-content\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/></svg>\n        <p>Share your location to see posts and restaurants near you!</p>\n      </div>\n      <button @click=\"requestLocationAccess\" class=\"btn-primary\">Share Location</button>\n    </div>\n    <div v-if=\"locationPermission === 'denied'\" class=\"location-prompt-banner warning\">\n      <div class=\"banner-content\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"/></svg>\n        <p>Location access is denied. To see local content, please enable location services for this site in your browser settings.</p>\n      </div>\n    </div>\n\n    <div class=\"feed\">\n      <div v-if=\"loading\" class=\"loading-indicator\">Loading feed...</div>\n      <div v-else>\n        <div v-if=\"posts.length === 0\" class=\"no-posts-message\">\n          <h3>Welcome to Porko!</h3>\n          <p>Follow some users to see their reviews in your feed, or check out the Restaurants page to find new places.</p>\n        </div>\n        <div v-for=\"post in posts\" :key=\"post.id\" class=\"post-card\">\n          <div class=\"post-header\">\n            <img :src=\"post.userPhoto || 'https://cdn-icons-png.flaticon.com/512/149/149071.png'\" alt=\"User\" class=\"user-avatar\" referrerpolicy=\"no-referrer\" />\n            <div class=\"post-info\">\n              <div class=\"user-line\">\n                <span class=\"user-name\">{{ post.userName }}</span>\n                <span v-if=\"post.medal\" class=\"medal\">{{ post.medal }}</span>\n              </div>\n              <span class=\"post-date\">{{ post.createdAt.toDate().toLocaleString() }}</span>\n            </div>\n          </div>\n          <div class=\"post-content\">\n            <div class=\"post-title-line\">\n              <div class=\"restaurant-title-group\">\n                <h4 class=\"restaurant-name\">{{ post.restaurantName }}</h4>\n                <button @click=\"toggleBucketList(post)\" class=\"action-btn bucket-list-btn\" :class=\"{ 'in-bucket-list': isInBucketList(post.restaurantId) }\" :title=\"isInBucketList(post.restaurantId) ? 'In Bucket List' : 'Add to Bucket List'\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20px\" viewBox=\"0 0 24 24\" width=\"20px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M18 7h-2.06c-.33-3.2-2.46-5.8-5.94-5.8S4.39 3.8 4.06 7H2v12h16V7zM6.14 7c.2-1.92 1.6-3.48 3.86-3.8A4.002 4.002 0 0 1 14 7h-2.14c-.2-1.92-1.6-3.48-3.86-3.8zM16 17H4v-8h12v8z\"/></svg>\n                </button>\n              </div>\n              <div v-if=\"post.distance !== null\" class=\"distance\">\n                {{ post.distance.toFixed(1) }} miles away\n              </div>\n            </div>\n            <div class=\"review-body\">\n              <StarRating :rating=\"post.rating\" />\n              <p v-if=\"post.text\" class=\"review-text\">\"{{ post.text }}\"</p>\n              <img v-if=\"post.photoURL\" :src=\"post.photoURL\" alt=\"Review photo\" class=\"review-photo\" />\n              <div v-if=\"post.tags && post.tags.length > 0\" class=\"tags-container\">\n                <span v-for=\"tag in post.tags\" :key=\"tag\" class=\"tag\">{{ tag }}</span>\n              </div>\n            </div>\n            <Comments :post-id=\"post.id\"\n                      post-type=\"reviews\"\n                      :post-author-id=\"post.userId\" />\n          </div>\n        </div>\n        <div ref=\"loadMoreTrigger\"></div>\n        <div v-if=\"loadingMore\" class=\"loading-indicator\">Loading more...</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted, watch, computed } from 'vue';\nimport { db, auth } from '../firebase';\nimport { collection, query, where, getDocs, onSnapshot, orderBy, limit, addDoc, deleteDoc, serverTimestamp } from 'firebase/firestore';\nimport Comments from './Comments.vue';\nimport StarRating from './StarRating.vue';\nimport { getDistance } from '../utils/geolocation.js';\n\nexport default {\n  name: 'Home',\n  components: {\n    StarRating,\n    Comments\n  },\n  setup() {\n    const posts = ref([]);\n    const loading = ref(true);\n    const userLocation = ref(null);\n    const locationPermission = ref(''); // 'prompt', 'granted', 'denied'\n    const loadMoreTrigger = ref(null);\n    const loadingMore = ref(false);\n    const allPosts = new Map();\n    const fullSortedPosts = ref([]);\n    const pageSize = 10;\n    let observer = null;\n    const unsubscribes = [];\n    const bucketList = ref(new Set());\n    const leaderboardRanks = ref(new Map());\n\n    onUnmounted(() => {\n      unsubscribes.forEach(unsub => unsub());\n      if (observer) {\n        observer.disconnect();\n      }\n    });\n\n    onMounted(() => {\n      observer = new IntersectionObserver((entries) => {\n        if (entries[0].isIntersecting) {\n          loadMorePosts();\n        }\n      });\n      checkLocationPermission();\n    });\n\n    watch(loadMoreTrigger, (newValue, oldValue) => {\n      if (oldValue) observer.unobserve(oldValue);\n      if (newValue) observer.observe(newValue);\n    });\n\n    const setupFeedListeners = async () => {\n      loading.value = true;\n      // Clear existing listeners and posts\n      unsubscribes.forEach(unsub => unsub());\n      unsubscribes.length = 0;\n      allPosts.clear();\n\n      const bucketListQuery = query(collection(db, 'bucketListItems'), where('userId', '==', auth.currentUser.uid));\n      const unsubBucketList = onSnapshot(bucketListQuery, (snapshot) => {\n        const newBucketList = new Set();\n        snapshot.forEach(doc => newBucketList.add(doc.data().restaurantId));\n        bucketList.value = newBucketList;\n      });\n      unsubscribes.push(unsubBucketList);\n\n      const currentUser = auth.currentUser;\n      if (!currentUser) {\n        loading.value = false;\n        return;\n      }\n\n      const [followsSnap, restaurantsSnap, usersSnap] = await Promise.all([\n        getDocs(query(collection(db, 'follows'), where('followerId', '==', currentUser.uid))),\n        getDocs(collection(db, 'restaurants')),\n        getDocs(collection(db, 'users'))\n      ]);\n\n      const restaurantsMap = new Map();\n      restaurantsSnap.forEach(doc => {\n        restaurantsMap.set(doc.id, doc.data());\n      });\n      \n      const usersMap = new Map();\n      usersSnap.forEach(doc => {\n        usersMap.set(doc.id, doc.data());\n      });\n\n      const processAndSetPosts = () => {\n        // Update medals before sorting and displaying\n        allPosts.forEach(post => {\n          const rank = leaderboardRanks.value.get(post.userId);\n          post.medal = getMedal(rank);\n        });\n\n        fullSortedPosts.value = Array.from(allPosts.values()).sort((a, b) => {\n            const timeA = a.lastActivityAt || a.createdAt;\n            const timeB = b.lastActivityAt || b.createdAt;\n            return timeB.seconds - timeA.seconds;\n        });\n        // Update the displayed posts, preserving the current scroll length\n        posts.value = fullSortedPosts.value.slice(0, posts.value.length || pageSize);\n      };\n\n      const leaderboardQuery = query(collection(db, 'users'), orderBy('reviewCount', 'desc'), limit(3));\n      const unsubLeaderboard = onSnapshot(leaderboardQuery, (leaderboardSnap) => {\n        const newRanks = new Map();\n        leaderboardSnap.forEach((doc, index) => {\n          newRanks.set(doc.id, index);\n        });\n        leaderboardRanks.value = newRanks;\n        processAndSetPosts();\n      });\n      unsubscribes.push(unsubLeaderboard);\n\n      const processSnapshot = (snapshot) => {\n        snapshot.docChanges().forEach(change => {\n          if (change.type === 'removed') {\n            allPosts.delete(change.doc.id);\n          } else {\n            const docData = change.doc.data();\n            const restaurant = restaurantsMap.get(docData.restaurantId);\n            const user = usersMap.get(docData.userId);\n            const rank = leaderboardRanks.value.get(docData.userId);\n            const post = {\n              ...docData,\n              id: change.doc.id,\n              restaurantName: restaurant?.name || 'Unknown Restaurant',\n              location: restaurant?.location || null,\n              distance: userLocation.value && restaurant?.location ? getDistance(userLocation.value.lat, userLocation.value.lng, restaurant.location.lat, restaurant.location.lng) : null,\n              userName: user?.displayName || 'Unknown User',\n              userPhoto: user?.photoURL || null,\n              medal: getMedal(rank)\n            };\n            allPosts.set(post.id, post);\n          }\n        });\n        processAndSetPosts();\n        loading.value = false;\n      };\n\n      const followingIds = followsSnap.docs.map(doc => doc.data().followingId);\n\n      // Add current user's ID to see their own posts\n      if (!followingIds.includes(currentUser.uid)) {\n        followingIds.push(currentUser.uid);\n      }\n\n      if (followingIds.length > 0) {\n        // Firestore 'in' query is limited to 30 elements, so we batch\n        for (let i = 0; i < followingIds.length; i += 30) {\n            const batchIds = followingIds.slice(i, i + 30);\n            const q = query(collection(db, 'reviews'), where('userId', 'in', batchIds), orderBy('lastActivityAt', 'desc'));\n            const unsub = onSnapshot(q, processSnapshot, (error) => console.error(\"Feed error (followed):\", error));\n            unsubscribes.push(unsub);\n        }\n      }\n\n      if (userLocation.value) {\n        const nearbyRestaurantIds = [];\n        restaurantsSnap.forEach(doc => {\n          const restaurant = doc.data();\n          if (restaurant.location) {\n            const distance = getDistance(userLocation.value.lat, userLocation.value.lng, restaurant.location.lat, restaurant.location.lng);\n            if (distance !== null && distance <= 100) {\n              nearbyRestaurantIds.push(doc.id);\n            }\n          }\n        });\n        if (nearbyRestaurantIds.length > 0) {\n            for (let i = 0; i < nearbyRestaurantIds.length; i += 30) {\n                const batchIds = nearbyRestaurantIds.slice(i, i + 30);\n                const q = query(collection(db, 'reviews'), where('restaurantId', 'in', batchIds), orderBy('lastActivityAt', 'desc'));\n                const unsub = onSnapshot(q, processSnapshot, (error) => console.error(\"Feed error (nearby):\", error));\n                unsubscribes.push(unsub);\n            }\n        }\n      }\n\n      if (unsubscribes.length === 0) {\n        loading.value = false;\n      }\n    };\n\n    const loadMorePosts = () => {\n      if (loadingMore.value || posts.value.length >= fullSortedPosts.value.length) {\n        return;\n      }\n      loadingMore.value = true;\n\n      setTimeout(() => {\n        const currentLength = posts.value.length;\n        const nextPosts = fullSortedPosts.value.slice(currentLength, currentLength + pageSize);\n        posts.value.push(...nextPosts);\n        loadingMore.value = false;\n      }, 300);\n    };\n\n    const requestLocationAccess = () => {\n      navigator.geolocation.getCurrentPosition(\n        position => {\n          locationPermission.value = 'granted';\n          userLocation.value = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          };\n          setupFeedListeners();\n        },\n        () => {\n          locationPermission.value = 'denied';\n          setupFeedListeners(); // Fetch feed without location\n        },\n        { timeout: 10000 }\n      );\n    };\n\n    const checkLocationPermission = async () => {\n      if (!navigator.permissions) {\n        requestLocationAccess(); // Fallback for older browsers\n        return;\n      }\n\n      try {\n        const permissionStatus = await navigator.permissions.query({ name: 'geolocation' });\n        locationPermission.value = permissionStatus.state;\n\n        permissionStatus.onchange = () => {\n          locationPermission.value = permissionStatus.state;\n          if (permissionStatus.state === 'granted') {\n            requestLocationAccess();\n          }\n        };\n\n        if (permissionStatus.state === 'granted') {\n          requestLocationAccess();\n        } else {\n          setupFeedListeners();\n        }\n      } catch (error) {\n        console.error(\"Error checking location permission:\", error);\n        // If permission query fails (e.g. in Firefox private mode), fallback to just asking.\n        requestLocationAccess();\n      }\n    };\n\n    const getMedal = (index) => {\n      if (typeof index !== 'number') return null;\n      if (index === 0) return '';\n      if (index === 1) return '';\n      if (index === 2) return '';      \n      return null;\n    };\n\n    const isInBucketList = (restaurantId) => {\n      return bucketList.value.has(restaurantId);\n    };\n\n    const toggleBucketList = async (post) => {\n      const currentUser = auth.currentUser;\n      if (!currentUser) return;\n\n      if (isInBucketList(post.restaurantId)) {\n        const q = query(collection(db, 'bucketListItems'), where('userId', '==', currentUser.uid), where('restaurantId', '==', post.restaurantId));\n        const snapshot = await getDocs(q);\n        snapshot.forEach(doc => deleteDoc(doc.ref));\n      } else {\n        await addDoc(collection(db, 'bucketListItems'), {\n          userId: currentUser.uid,\n          restaurantId: post.restaurantId,\n          createdAt: serverTimestamp()\n        });\n      }\n    };\n\n    onMounted(checkLocationPermission);\n\n    return {\n      posts,\n      loading,\n      locationPermission,\n      requestLocationAccess,\n      loadMoreTrigger,\n      loadingMore,\n      isInBucketList,\n      toggleBucketList\n    };\n  }\n};\n</script>\n\n<style scoped>\n.home-page {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.location-prompt-banner {\n  background-color: #eaf5ff;\n  border: 1px solid var(--primary-color);\n  border-radius: 8px;\n  padding: 1em 1.5em;\n  margin-bottom: 2em;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1em;\n}\n\n.location-prompt-banner.warning {\n  background-color: #fff4e5;\n  border-color: #ff9800;\n}\n\n.banner-content {\n  display: flex;\n  align-items: center;\n  gap: 1em;\n}\n\n.banner-content p {\n  margin: 0;\n  color: var(--secondary-color);\n}\n\n.location-prompt-banner .btn-primary {\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  padding: 0.6em 1.2em;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  white-space: nowrap;\n}\n\n.loading-indicator, .no-posts-message {\n  text-align: center;\n  color: #777;\n  padding: 3em;\n}\n\n.no-posts-message h3 {\n  margin-bottom: 0.5em;\n}\n\n.post-card {\n  background: var(--card-background);\n  border-radius: 12px;\n  box-shadow: 0 4px 15px var(--shadow-color);\n  margin-bottom: 2em;\n  overflow: hidden;\n}\n\n.post-header {\n  display: flex;\n  align-items: center;\n  gap: 1em;\n  padding: 1em 1.5em;\n  border-bottom: 1px solid #eee;\n}\n\n.user-avatar {\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n}\n\n.post-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.user-line {\n  display: flex;\n  align-items: center;\n  gap: 0.5em;\n}\n\n.action-btn {\n    background: none;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n    display: flex;\n    align-items: center;\n}\n\n.bucket-list-btn {\n  color: #ccc;\n}\n.bucket-list-btn.in-bucket-list, .bucket-list-btn:hover {\n  color: var(--primary-color);\n}\n\n.medal {\n  font-size: 1.1em;\n}\n\n.user-name {\n  font-weight: 600;\n}\n\n.post-date {\n  color: #7f8c8d;\n  font-size: 0.85em;\n}\n\n.post-content {\n  padding: 1.5em;\n}\n\n.post-title-line {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 1em;\n}\n\n.restaurant-name {\n  font-size: 1.2em;\n  font-weight: 600;\n  margin: 0;\n}\n\n.restaurant-title-group {\n  display: flex;\n  align-items: center;\n  gap: 0.5em;\n}\n\n.review-photo {\n  max-width: 100%;\n  border-radius: 8px;\n  margin-top: 1em;\n}\n\n.review-text {\n  font-style: italic;\n  color: #333;\n  margin: 0.5em 0;\n}\n\n.tags-container {\n  margin-top: 1em;\n}\n\n.tag {\n  background-color: var(--primary-color);\n  color: white;\n  padding: 0.3em 0.8em;\n  border-radius: 15px;\n  font-size: 0.8em;\n  margin-right: 0.5em;\n  display: inline-block;\n}\n\n.distance {\n  font-size: 0.9em;\n  color: #777;\n  flex-shrink: 0;\n  padding-left: 1em;\n}\n</style>","// Firebase configuration and initialization\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, GoogleAuthProvider, signInWithPopup, signOut, OAuthProvider } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDxzi70xuS1KxemDBF1logZ6zyHxINFfp4\",\n  authDomain: \"porko-c0f87.firebaseapp.com\",\n  projectId: \"porko-c0f87\",\n  storageBucket: \"porko-c0f87.firebasestorage.app\",\n  messagingSenderId: \"1050714930836\",\n  appId: \"1:1050714930836:web:5b4c9bdf93e95748a23e81\",\n  measurementId: \"G-3LCKP815FM\"\n};\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst provider = new GoogleAuthProvider();\nconst db = getFirestore(app);\nconst storage = getStorage(app);\n\n// Example Firestore data models\n// users: { uid, displayName, photoURL, bio }\n// restaurants: { id, name, address, location: { lat, lng }, description }\n// reviews: { id, restaurantId, userId, rating, text, photoURL, createdAt }\n// checkins: { id, restaurantId, userId, comment, photoURL, createdAt }\n// follows: { followerId, followingId }\n\nexport { auth, provider, signInWithPopup, signOut, db, storage };\n","<template>\n  <div class=\"comments-section\">\n    <div class=\"comment-list\">\n      <div v-for=\"comment in comments\" :key=\"comment.id\" class=\"comment\">\n        <img :src=\"comment.userPhoto || 'https://cdn-icons-png.flaticon.com/512/149/149071.png'\" :alt=\"comment.userName\" class=\"comment-user-photo\" referrerpolicy=\"no-referrer\" />\n        <div class=\"comment-content\">\n          <div class=\"comment-header\">\n            <span class=\"comment-user-name\">{{ comment.userName }}</span>\n            <span class=\"comment-date\">{{ formatDate(comment.createdAt) }}</span>\n          </div>\n          <div v-if=\"editingCommentId !== comment.id\">\n            <p class=\"comment-text\">{{ comment.text }}</p>\n            <div class=\"comment-actions\">\n              <button v-if=\"canEdit(comment)\" @click=\"startEditing(comment)\" class=\"action-btn\">Edit</button>\n              <button v-if=\"canDelete(comment)\" @click=\"deleteComment(comment.id)\" class=\"action-btn delete\">Delete</button>\n            </div>\n          </div>\n          <div v-else class=\"edit-comment\">\n            <input v-model=\"editingText\" @keyup.enter=\"saveEdit\" class=\"edit-input\" />\n            <div class=\"edit-actions\">\n              <button @click=\"saveEdit\" class=\"btn-primary\">Save</button>\n              <button @click=\"cancelEdit\" class=\"btn-secondary\">Cancel</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"add-comment\">\n      <input v-model=\"newComment\" placeholder=\"Add a comment...\" @keyup.enter=\"addComment\" />\n      <button @click=\"addComment\" :disabled=\"!newComment.trim()\">Post</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted } from 'vue';\nimport { db, auth } from '../firebase';\nimport { collection, query, where, getDocs, orderBy, onSnapshot, addDoc, serverTimestamp, doc, updateDoc, deleteDoc, documentId } from 'firebase/firestore';\n\nexport default {\n  name: 'Comments',\n  props: {\n    postId: { type: String, required: true },\n    postType: { type: String, required: true },\n    postAuthorId: { type: String, required: true },\n  },\n  setup(props) {\n    const comments = ref([]);\n    const newComment = ref('');\n    const editingCommentId = ref(null);\n    const editingText = ref('');\n    let unsubscribe = () => {};\n\n    onMounted(() => {\n      const commentsCollection = collection(db, props.postType, props.postId, 'comments');\n      const commentsQuery = query(commentsCollection, orderBy('createdAt', 'asc'));\n      unsubscribe = onSnapshot(commentsQuery, async (snapshot) => {\n        const commentData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n        \n        const userIds = [...new Set(commentData.map(c => c.userId))];\n        \n        if (userIds.length > 0) {\n          const usersMap = new Map();\n          // Firestore 'in' query is limited to 30 elements\n          for (let i = 0; i < userIds.length; i += 30) {\n            const batchIds = userIds.slice(i, i + 30);\n            const usersQuery = query(collection(db, 'users'), where(documentId(), 'in', batchIds));\n            const usersSnapshot = await getDocs(usersQuery);\n            usersSnapshot.forEach(doc => usersMap.set(doc.id, doc.data()));\n          }\n          \n          comments.value = commentData.map(comment => {\n            const user = usersMap.get(comment.userId);\n            return {\n              ...comment,\n              userName: user?.displayName || comment.userName || 'Unknown User',\n              userPhoto: user?.photoURL || comment.userPhoto || null\n            };\n          });\n        } else {\n          comments.value = [];\n        }\n      });\n    });\n\n    onUnmounted(() => {\n      unsubscribe();\n    });\n\n    const addComment = async () => {\n      if (newComment.value.trim() === '') return;\n      const currentUser = auth.currentUser;\n      if (!currentUser) return;\n\n      const now = serverTimestamp();\n      const commentsCollection = collection(db, props.postType, props.postId, 'comments');\n      const reviewDocRef = doc(db, 'reviews', props.postId);\n\n      await Promise.all([\n        addDoc(commentsCollection, {\n          userId: currentUser.uid,\n          text: newComment.value,\n          createdAt: now,\n        }),\n        updateDoc(reviewDocRef, { lastActivityAt: now })\n      ]);\n      newComment.value = '';\n    };\n\n    const canEdit = (comment) => {\n      const currentUser = auth.currentUser;\n      return currentUser && currentUser.uid === comment.userId;\n    };\n\n    const canDelete = (comment) => {\n      const currentUser = auth.currentUser;\n      return currentUser && (currentUser.uid === comment.userId || currentUser.uid === props.postAuthorId);\n    };\n\n    const startEditing = (comment) => {\n      editingCommentId.value = comment.id;\n      editingText.value = comment.text;\n    };\n\n    const cancelEdit = () => {\n      editingCommentId.value = null;\n      editingText.value = '';\n    };\n\n    const saveEdit = async () => {\n      if (editingText.value.trim() === '' || !editingCommentId.value) return;\n      const commentDoc = doc(db, props.postType, props.postId, 'comments', editingCommentId.value);\n      const reviewDocRef = doc(db, 'reviews', props.postId);\n      await Promise.all([\n        updateDoc(commentDoc, { text: editingText.value }),\n        updateDoc(reviewDocRef, { lastActivityAt: serverTimestamp() })\n      ]);\n      cancelEdit();\n    };\n\n    const deleteComment = async (commentId) => {\n      if (confirm('Are you sure you want to delete this comment?')) {\n        const commentDoc = doc(db, props.postType, props.postId, 'comments', commentId);\n        const reviewDocRef = doc(db, 'reviews', props.postId);\n        await Promise.all([\n          deleteDoc(commentDoc),\n          updateDoc(reviewDocRef, { lastActivityAt: serverTimestamp() })\n        ]);\n      }\n    };\n\n    const formatDate = (timestamp) => {\n      if (!timestamp || !timestamp.toDate) return '';\n      return timestamp.toDate().toLocaleString();\n    };\n\n    return {\n      comments, newComment, addComment, canEdit, canDelete, startEditing,\n      cancelEdit, saveEdit, deleteComment, editingCommentId, editingText, formatDate\n    };\n  },\n};\n</script>\n\n<style scoped>\n.comments-section {\n  margin-top: 1.5em;\n  padding-top: 1.5em;\n  border-top: 1px solid #eee;\n}\n.comment-list { margin-bottom: 1em; }\n.comment { display: flex; gap: 0.75em; margin-bottom: 1em; }\n.comment-user-photo { width: 32px; height: 32px; border-radius: 50%; }\n.comment-content { flex-grow: 1; }\n.comment-header { display: flex; align-items: center; gap: 0.5em; margin-bottom: 0.25em; }\n.comment-info { display: flex; align-items: baseline; gap: 0.5em; }\n.comment-user-name { font-weight: 600; font-size: 0.9em; }\n.comment-date { font-size: 0.75em; color: #777; }\n.comment-text { margin: 0 0 0.5em; font-size: 0.95em; line-height: 1.4; }\n.comment-actions { font-size: 0.8em; }\n.action-btn { background: none; border: none; color: #777; cursor: pointer; padding: 0 5px 0 0; }\n.action-btn.delete { color: #e74c3c; }\n.edit-comment { display: flex; flex-direction: column; gap: 0.5em; }\n.edit-input { width: 100%; padding: 0.5em; border-radius: 4px; border: 1px solid #ccc; }\n.edit-actions { display: flex; gap: 0.5em; justify-content: flex-end; }\n.add-comment { display: flex; gap: 0.5em; margin-top: 1em; }\n.add-comment input { flex-grow: 1; border: 1px solid #ddd; border-radius: 15px; padding: 0.5em 1em; }\n.add-comment button { background-color: var(--primary-color); color: white; border: none; border-radius: 15px; padding: 0.5em 1em; cursor: pointer; }\n.add-comment button:disabled { background-color: #bdc3c7; cursor: not-allowed; }\n.btn-primary { background-color: var(--primary-color); color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; }\n.btn-secondary { background-color: #ecf0f1; color: var(--secondary-color); border: 1px solid #bdc3c7; padding: 4px 8px; border-radius: 4px; cursor: pointer; }\n</style>","import { render } from \"./Comments.vue?vue&type=template&id=18a9cab6&scoped=true\"\nimport script from \"./Comments.vue?vue&type=script&lang=js\"\nexport * from \"./Comments.vue?vue&type=script&lang=js\"\n\nimport \"./Comments.vue?vue&type=style&index=0&id=18a9cab6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-18a9cab6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"star-rating\">\r\n    <svg v-for=\"n in 5\" :key=\"n\" height=\"16px\" width=\"16px\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\r\n      <path :d=\"getStarPath(n)\" />\r\n    </svg>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'StarRating',\r\n  props: {\r\n    rating: {\r\n      type: Number,\r\n      required: true,\r\n      default: 0\r\n    }\r\n  },\r\n  setup(props) {\r\n    const fullStarPath = \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27z\";\r\n    const halfStarPath = \"M22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L18.18 21l-1.64-7.03L22 9.24zM12 15.4z\";\r\n    const emptyStarPath = \"M22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\";\r\n\r\n    const getStarPath = (starIndex) => {\r\n      if (props.rating >= starIndex) {\r\n        return fullStarPath;\r\n      }\r\n      if (props.rating >= starIndex - 0.5) {\r\n        return halfStarPath;\r\n      }\r\n      return emptyStarPath;\r\n    };\r\n\r\n    return { getStarPath };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.star-rating {\r\n  display: inline-flex;\r\n  color: #f39c12;\r\n  gap: 2px;\r\n}\r\n</style>","import { render } from \"./StarRating.vue?vue&type=template&id=6bd33956&scoped=true\"\nimport script from \"./StarRating.vue?vue&type=script&lang=js\"\nexport * from \"./StarRating.vue?vue&type=script&lang=js\"\n\nimport \"./StarRating.vue?vue&type=style&index=0&id=6bd33956&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6bd33956\"]])\n\nexport default __exports__","export function getDistance(lat1, lon1, lat2, lon2) {\r\n  if (lat1 === null || lon1 === null || lat2 === null || lon2 === null) {\r\n    return null;\r\n  }\r\n  if (lat1 === lat2 && lon1 === lon2) {\r\n    return 0;\r\n  }\r\n  const R = 3959; // Radius of the earth in miles\r\n  const dLat = (lat2 - lat1) * Math.PI / 180;\r\n  const dLon = (lon2 - lon1) * Math.PI / 180;\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  return R * c;\r\n}","import { render } from \"./Home.vue?vue&type=template&id=3a735d45&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=3a735d45&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3a735d45\"]])\n\nexport default __exports__","<template>\n  <div class=\"restaurants-page\">\n    <EditRestaurantModal \n      v-if=\"isEditModalVisible\"\n      :restaurant=\"restaurantToEdit\"\n      @close=\"closeEditModal\"\n      @save=\"saveRestaurantChanges\"\n    />\n    <RestaurantReviewsModal\n      v-if=\"isReviewsModalVisible\"\n      :restaurant=\"restaurantForReviews\"\n      @close=\"closeReviewsModal\"\n    />\n    <div class=\"search-box\">\n      <input type=\"text\" v-model=\"searchQuery\" placeholder=\"Search by name, address, city, state, or zip...\" class=\"search-input\" />\n    </div>\n    <div class=\"add-restaurant-container\">\n      <button @click=\"showAddForm = !showAddForm\" class=\"btn-toggle-add\">\n        {{ showAddForm ? 'Cancel' : 'Add New Restaurant' }}\n      </button>\n      <form v-if=\"showAddForm\" @submit.prevent=\"addNewRestaurant\" class=\"add-restaurant-form\">\n        <h3>Add a New Restaurant</h3>\n        <div class=\"form-group\">\n          <label for=\"new-name\">Name</label>\n          <input id=\"new-name\" type=\"text\" v-model=\"newRestaurant.name\" required />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"new-address\">Address</label>\n          <input id=\"new-address\" type=\"text\" v-model=\"newRestaurant.address\" required />\n        </div>\n        <div class=\"form-group-row\">\n          <div class=\"form-group\"><label for=\"new-city\">City</label><input id=\"new-city\" type=\"text\" v-model=\"newRestaurant.city\" /></div>\n          <div class=\"form-group\"><label for=\"new-state\">State</label><input id=\"new-state\" type=\"text\" v-model=\"newRestaurant.state\" /></div>\n          <div class=\"form-group\"><label for=\"new-zip\">Zip</label><input id=\"new-zip\" type=\"text\" v-model=\"newRestaurant.zip\" /></div>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"new-url\">Website URL</label>\n          <input id=\"new-url\" type=\"url\" v-model=\"newRestaurant.url\" placeholder=\"https://example.com\" />\n        </div>\n        <p v-if=\"addError\" class=\"error-message\">{{ addError }}</p>\n        <button type=\"submit\" :disabled=\"isSaving\" class=\"btn-save\">{{ isSaving ? 'Saving...' : 'Save Restaurant' }}</button>\n      </form>\n    </div>\n    <div v-if=\"loading\" class=\"loading-indicator\">Loading restaurants...</div>\n    <div v-else class=\"restaurant-list-container\">\n      <ul v-if=\"filteredRestaurants.length > 0\" class=\"restaurant-list\">\n        <li v-for=\"restaurant in filteredRestaurants\" :key=\"restaurant.id\" class=\"restaurant-item\">\n          <div class=\"restaurant-details\">\n            <span class=\"restaurant-name\">{{ restaurant.name }}</span>\n            <div class=\"restaurant-meta\">\n              <div v-if=\"restaurant.averageRating > 0\" class=\"rating\" :title=\"`${restaurant.averageRating.toFixed(2)} average rating`\">\n                <StarRating :rating=\"restaurant.averageRating\" />\n                <span class=\"rating-text\">{{ restaurant.averageRating.toFixed(1) }}</span>\n                <span class=\"rating-count\">({{ restaurant.ratingCount }})</span>\n              </div>\n              <span v-if=\"restaurant.distance !== null\" class=\"distance\">{{ restaurant.distance.toFixed(1) }} miles away </span>\n            </div>\n            <span class=\"restaurant-address\">\n              {{ restaurant.address }}<template v-if=\"restaurant.city\">, {{ restaurant.city }}</template><template v-if=\"restaurant.state\">, {{ restaurant.state }}</template><template v-if=\"restaurant.zip\"> {{ restaurant.zip }}</template>\n            </span>\n          </div>\n          <div class=\"restaurant-actions\">\n            <button @click=\"toggleBucketList(restaurant)\" class=\"action-btn\" :class=\"{ 'in-bucket-list': isInBucketList(restaurant.id) }\" :title=\"isInBucketList(restaurant.id) ? 'Remove from Bucket List' : 'Add to Bucket List'\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M18 7h-2.06c-.33-3.2-2.46-5.8-5.94-5.8S4.39 3.8 4.06 7H2v12h16V7zM6.14 7c.2-1.92 1.6-3.48 3.86-3.8A4.002 4.002 0 0 1 14 7h-2.14c-.2-1.92-1.6-3.48-3.86-3.8zM16 17H4v-8h12v8z\"/></svg>\n            </button>\n            <button @click=\"openReviewsModal(restaurant)\" class=\"action-btn\" title=\"View Reviews\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"/></svg>\n            </button>\n            <button @click=\"openEditModal(restaurant)\" class=\"action-btn\" title=\"Edit Restaurant\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/></svg>\n            </button>\n            <a :href=\"getDirectionsUrl(restaurant)\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"action-btn\" title=\"Get Directions\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M22.43 10.59l-9.01-9.01c-.75-.75-2.07-.76-2.83 0l-9.01 9.01c-.76.75-.76 2.07 0 2.83l9.01 9.01c.75.75 2.07.75 2.83 0l9.01-9.01c.75-.76.75-2.08 0-2.83zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z\"/></svg>\n            </a>\n            <a :href=\"getDetailsUrl(restaurant)\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"action-btn\" title=\"View Details on Google\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 5 1.41-1.41L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/></svg>\n            </a>\n            <a v-if=\"restaurant.url\" :href=\"getValidUrl(restaurant.url)\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"action-btn\" title=\"Visit Website\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"/></svg>\n            </a>\n            <button class=\"check-in-btn\" @click=\"$emit('review-at', restaurant.id)\">Review</button>\n          </div>\n        </li>\n      </ul>\n      <p v-else class=\"no-restaurants-message\">No restaurants found matching your search.</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted, computed } from 'vue';\nimport { db, auth } from '../firebase';\nimport { collection, getDocs, doc, updateDoc, query, where, addDoc, deleteDoc, serverTimestamp, onSnapshot } from 'firebase/firestore';\nimport StarRating from './StarRating.vue';\nimport EditRestaurantModal from './EditRestaurantModal.vue'; \nimport RestaurantReviewsModal from './RestaurantReviewsModal.vue'; \nimport { getDistance } from '../utils/geolocation.js';\n\nexport default {\n  name: 'Restaurants',\n  components: { EditRestaurantModal, StarRating, RestaurantReviewsModal },\n  emits: ['review-at'],\n  setup() {\n    const restaurants = ref([]);\n    const loading = ref(true);\n    const searchQuery = ref('');\n    const isEditModalVisible = ref(false);\n    const isReviewsModalVisible = ref(false);\n    const restaurantToEdit = ref(null);\n    const restaurantForReviews = ref(null);\n    const userLocation = ref(null);\n    const bucketList = ref(new Set());\n    const showAddForm = ref(false);\n    const newRestaurant = ref({\n      name: '',\n      address: '',\n      city: '',\n      state: '',\n      zip: '',\n      url: ''\n    });\n    const addError = ref('');\n    const isSaving = ref(false);\n    let bucketListUnsubscribe = () => {};\n\n    const fetchRestaurantsAndRatings = async () => {\n      loading.value = true;\n      try {\n        const [restaurantsSnapshot, reviewsSnapshot] = await Promise.all([\n          getDocs(collection(db, 'restaurants')),\n          getDocs(collection(db, 'reviews'))\n        ]);\n\n        const ratings = {};\n        reviewsSnapshot.forEach(doc => {\n          const review = doc.data();\n          if (review.restaurantId && typeof review.rating === 'number') {\n            if (!ratings[review.restaurantId]) {\n              ratings[review.restaurantId] = { total: 0, count: 0 };\n            }\n            ratings[review.restaurantId].total += review.rating;\n            ratings[review.restaurantId].count++;\n          }\n        });\n\n        restaurants.value = restaurantsSnapshot.docs.map(doc => {\n          const data = { id: doc.id, ...doc.data() };\n          const ratingInfo = ratings[data.id];\n          return {\n            ...data,\n            averageRating: ratingInfo ? ratingInfo.total / ratingInfo.count : 0,\n            ratingCount: ratingInfo ? ratingInfo.count : 0,\n          };\n        });\n      } catch (error) {\n        console.error(\"Error fetching restaurants and ratings:\", error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    onMounted(() => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(position => {\n          userLocation.value = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          };\n          fetchRestaurantsAndRatings();\n          subscribeToBucketList();\n        }, (error) => {\n          console.error(\"Error getting location\", error);\n          fetchRestaurantsAndRatings();\n          subscribeToBucketList();\n        });\n      } else {\n        console.error(\"Geolocation is not supported by this browser.\");\n        fetchRestaurantsAndRatings();\n        subscribeToBucketList();\n      }\n    });\n\n    onUnmounted(() => {\n      bucketListUnsubscribe();\n    });\n\n    const subscribeToBucketList = () => {\n      const currentUser = auth.currentUser;\n      if (!currentUser) return;\n      const q = query(collection(db, 'bucketListItems'), where('userId', '==', currentUser.uid));\n      bucketListUnsubscribe = onSnapshot(q, (snapshot) => {\n        const newBucketList = new Set();\n        snapshot.forEach(doc => newBucketList.add(doc.data().restaurantId));\n        bucketList.value = newBucketList;\n      });\n    };\n\n    const restaurantsWithDistance = computed(() => {\n      return restaurants.value.map(r => {\n        const distance = userLocation.value && r.location ? getDistance(userLocation.value.lat, userLocation.value.lng, r.location.lat, r.location.lng) : null;\n        return { ...r, distance };\n      }).sort((a, b) => {\n        if (a.distance === null) return 1;\n        if (b.distance === null) return -1;\n        return a.distance - b.distance;\n      });\n    });\n\n    const filteredRestaurants = computed(() => {\n      if (!searchQuery.value.trim()) {\n        return restaurantsWithDistance.value;\n      }\n      const lowerCaseQuery = searchQuery.value.toLowerCase();\n      return restaurantsWithDistance.value.filter(r =>\n        (r.name && r.name.toLowerCase().includes(lowerCaseQuery)) ||\n        (r.address && r.address.toLowerCase().includes(lowerCaseQuery)) ||\n        (r.city && r.city.toLowerCase().includes(lowerCaseQuery)) ||\n        (r.state && r.state.toLowerCase().includes(lowerCaseQuery)) ||\n        (r.zip && r.zip.toLowerCase().includes(lowerCaseQuery))\n      );\n    });\n\n    const getDirectionsUrl = (restaurant) => {\n      const destination = encodeURIComponent(`${restaurant.name}, ${restaurant.address}`);\n      return `https://www.google.com/maps/dir/?api=1&destination=${destination}`;\n    };\n\n    const getDetailsUrl = (restaurant) => {\n      const query = encodeURIComponent(`${restaurant.name}, ${restaurant.address}`);\n      return `https://www.google.com/search?q=${query}`;\n    };\n\n    const getValidUrl = (url) => {\n      if (!url) return '#';\n      if (url.startsWith('http://') || url.startsWith('https://')) {\n        return url;\n      }\n      return `https://${url}`;\n    };\n\n    const openEditModal = (restaurant) => {\n      restaurantToEdit.value = restaurant;\n      isEditModalVisible.value = true;\n    };\n\n    const closeEditModal = () => {\n      isEditModalVisible.value = false;\n      restaurantToEdit.value = null;\n    };\n\n    const openReviewsModal = (restaurant) => {\n      restaurantForReviews.value = restaurant;\n      isReviewsModalVisible.value = true;\n    };\n\n    const closeReviewsModal = () => {\n      isReviewsModalVisible.value = false;\n      restaurantForReviews.value = null;\n    };\n\n    const saveRestaurantChanges = async (updatedData) => {\n      const updatedRestaurant = { ...updatedData };\n      if (!updatedRestaurant || !updatedRestaurant.id) return;\n\n      const original = restaurantToEdit.value;\n      const dataToSave = {};\n\n      const nameChanged = original.name !== updatedRestaurant.name;\n      if (nameChanged) {\n        dataToSave.name = updatedRestaurant.name;\n        dataToSave.name_lowercase = updatedRestaurant.name.trim().toLowerCase();\n      }\n\n      const addressParts = ['address', 'city', 'state', 'zip'];\n      const addressChanged = addressParts.some(part => original[part] !== updatedRestaurant[part]);\n\n      if (addressChanged) {\n        dataToSave.address = updatedRestaurant.address;\n        dataToSave.city = updatedRestaurant.city;\n        dataToSave.state = updatedRestaurant.state;\n        dataToSave.zip = updatedRestaurant.zip;\n        dataToSave.address_lowercase = (updatedRestaurant.address || '').trim().toLowerCase();\n        \n        const fullAddress = [updatedRestaurant.address, updatedRestaurant.city, updatedRestaurant.state, updatedRestaurant.zip].filter(Boolean).join(', ');\n        const { geocodeAddress } = await import('../utils/geocoding.js');\n        const location = await geocodeAddress(fullAddress);\n        if (location) {\n          dataToSave.location = location;\n        } else {\n          alert(\"Could not find a location for the provided address. Please check the address and try again. The restaurant will be saved without a location.\");\n          dataToSave.location = null;\n        }\n      }\n\n      if (original.url !== updatedRestaurant.url) {\n        dataToSave.url = updatedRestaurant.url;\n      }\n\n      if (Object.keys(dataToSave).length === 0) {\n        closeEditModal();\n        return;\n      }\n\n      const restaurantRef = doc(db, 'restaurants', updatedRestaurant.id);\n      try {\n        await updateDoc(restaurantRef, dataToSave);\n        const index = restaurants.value.findIndex(r => r.id === updatedRestaurant.id);\n        if (index !== -1) {\n          const newLocalData = { ...restaurants.value[index], ...dataToSave };\n          if (dataToSave.location !== undefined) {\n            newLocalData.distance = userLocation.value && newLocalData.location ? getDistance(userLocation.value.lat, userLocation.value.lng, newLocalData.location.lat, newLocalData.location.lng) : null;\n          }\n          restaurants.value.splice(index, 1, newLocalData);\n        }\n        closeEditModal();\n      } catch (error) {\n        console.error(\"Error updating restaurant: \", error);\n        alert(\"Failed to save changes. Please try again.\");\n      }\n    };\n\n    const addNewRestaurant = async () => {\n      if (!newRestaurant.value.name.trim() || !newRestaurant.value.address.trim()) {\n        addError.value = 'Restaurant name and address are required.';\n        return;\n      }\n      isSaving.value = true;\n      addError.value = '';\n      const normalizedName = newRestaurant.value.name.trim().toLowerCase();\n      const normalizedAddress = newRestaurant.value.address.trim().toLowerCase();\n      try {\n        const q = query(collection(db, 'restaurants'), where('name_lowercase', '==', normalizedName), where('address_lowercase', '==', normalizedAddress));\n        const querySnapshot = await getDocs(q);\n        if (!querySnapshot.empty) {\n          addError.value = 'This restaurant already exists.';\n          isSaving.value = false;\n          return;\n        }\n        const fullAddress = [newRestaurant.value.address, newRestaurant.value.city, newRestaurant.value.state, newRestaurant.value.zip].filter(Boolean).join(', ');\n        const { geocodeAddress } = await import('../utils/geocoding.js');\n        const location = await geocodeAddress(fullAddress);\n        if (!location) {\n          addError.value = \"Could not find a location for the provided address. Please check the address and try again.\";\n          isSaving.value = false;\n          return;\n        }\n        const docData = { name: newRestaurant.value.name.trim(), address: newRestaurant.value.address.trim(), city: newRestaurant.value.city.trim(), state: newRestaurant.value.state.trim(), zip: newRestaurant.value.zip.trim(), url: newRestaurant.value.url.trim(), name_lowercase: normalizedName, address_lowercase: normalizedAddress, location, createdAt: serverTimestamp() };\n        const docRef = await addDoc(collection(db, 'restaurants'), docData);\n        const newRest = { id: docRef.id, ...docData, averageRating: 0, ratingCount: 0, distance: userLocation.value ? getDistance(userLocation.value.lat, userLocation.value.lng, location.lat, location.lng) : null };\n        restaurants.value.push(newRest);\n        showAddForm.value = false;\n        newRestaurant.value = { name: '', address: '', city: '', state: '', zip: '', url: '' };\n      } catch (error) {\n        console.error(\"Error adding new restaurant:\", error);\n        addError.value = 'Failed to add restaurant. Please try again.';\n      } finally {\n        isSaving.value = false;\n      }\n    };\n\n    const isInBucketList = (restaurantId) => {\n      return bucketList.value.has(restaurantId);\n    };\n\n    const toggleBucketList = async (restaurant) => {\n      const currentUser = auth.currentUser;\n      if (!currentUser) return;\n\n      if (isInBucketList(restaurant.id)) {\n        const q = query(collection(db, 'bucketListItems'), where('userId', '==', currentUser.uid), where('restaurantId', '==', restaurant.id));\n        const snapshot = await getDocs(q);\n        snapshot.forEach(doc => deleteDoc(doc.ref));\n      } else {\n        await addDoc(collection(db, 'bucketListItems'), {\n          userId: currentUser.uid,\n          restaurantId: restaurant.id,\n          createdAt: serverTimestamp()\n        });\n      }\n    };\n\n    return {\n      restaurants,\n      loading,\n      searchQuery,\n      filteredRestaurants,\n      getDirectionsUrl,\n      getDetailsUrl,\n      getValidUrl,\n      isEditModalVisible,\n      restaurantToEdit,\n      isReviewsModalVisible,\n      restaurantForReviews,\n      openEditModal,\n      closeEditModal,\n      saveRestaurantChanges,\n      openReviewsModal,\n      closeReviewsModal,\n      isInBucketList,\n      toggleBucketList,\n      showAddForm,\n      newRestaurant,\n      addNewRestaurant,\n      addError,\n      isSaving\n    };\n  }\n};\n</script>\n\n<style scoped>\n.search-box {\n  margin-bottom: 2em;\n}\n.search-input {\n  width: 100%;\n  padding: 12px;\n  border-radius: 8px;\n  border: 1px solid #ddd;\n  font-size: 1em;\n}\n.add-restaurant-container {\n  background: var(--card-background);\n  border-radius: 12px;\n  padding: 1.5em;\n  margin-bottom: 2em;\n  box-shadow: 0 4px 15px var(--shadow-color);\n}\n.btn-toggle-add {\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  width: 100%;\n}\n.add-restaurant-form {\n  margin-top: 1.5em;\n  border-top: 1px solid #eee;\n  padding-top: 1.5em;\n}\n.add-restaurant-form h3 {\n  margin-top: 0;\n  margin-bottom: 1em;\n}\n.form-group {\n  margin-bottom: 1em;\n}\n.form-group-row {\n  display: flex;\n  gap: 1em;\n}\n.form-group-row .form-group {\n  flex: 1;\n}\n.form-group label {\n  display: block;\n  margin-bottom: 0.5em;\n  font-weight: 600;\n}\n.form-group input {\n  width: 100%;\n  padding: 10px;\n  border-radius: 8px;\n  border: 1px solid #ccc;\n  box-sizing: border-box;\n}\n.loading-indicator, .no-restaurants-message {\n  text-align: center;\n  color: #777;\n  padding: 3em;\n}\n.restaurant-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.restaurant-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5em;\n  background: var(--card-background);\n  border-radius: 12px;\n  box-shadow: 0 4px 15px var(--shadow-color);\n  margin-bottom: 1.5em;\n}\n.restaurant-details {\n  display: flex;\n  flex-direction: column;\n}\n.restaurant-name {\n  font-weight: 600;\n  font-size: 1.2em;\n  margin-bottom: 0.25em;\n  word-break: break-word;\n}\n.restaurant-meta {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 1em;\n  margin-bottom: 0.5em;\n  color: #555;\n  font-size: 0.9em;\n}\n.rating {\n  display: flex;\n  align-items: center;\n  gap: 0.25em;\n}\n.rating-text {\n  font-weight: bold;\n  margin-left: 0.25em;\n}\n.rating-count {\n  color: #777;\n}\n.distance {\n  font-style: italic;\n}\n.restaurant-address {\n  color: #777;\n  font-size: 0.9em;\n  word-break: break-word;\n}\n.restaurant-actions {\n  display: flex;\n  gap: 0.75em;\n}\n.action-btn, .check-in-btn {\n  background: none;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  padding: 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  color: #555;\n}\n.action-btn:hover {\n  background-color: #f0f0f0;\n  border-color: #bbb;\n}\n.action-btn svg {\n  width: 20px;\n  height: 20px;\n}\n.check-in-btn {\n  background-color: var(--primary-color);\n  color: white;\n  border-color: var(--primary-color);\n  padding: 8px 16px;\n  font-weight: 600;\n}\n.check-in-btn:hover {\n  background-color: var(--primary-dark-color);\n}\n.btn-save {\n  background-color: #27ae60;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n}\n.btn-save:disabled {\n  background-color: #bdc3c7;\n  cursor: not-allowed;\n}\n.error-message {\n  color: #e74c3c;\n  margin-top: 1em;\n}\n\n.in-bucket-list {\n  color: var(--primary-color) !important;\n}\n\n@media (max-width: 768px) {\n  .restaurant-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1em;\n  }\n  .restaurant-actions {\n    width: 100%;\n    flex-wrap: wrap;\n    gap: 0.5em;\n  }\n  .restaurant-actions .action-btn,\n  .restaurant-actions .check-in-btn {\n    flex-grow: 1;\n    justify-content: center;\n  }\n}\n</style>","<template>\r\n  <div class=\"modal-overlay\" @click.self=\"$emit('close')\">\r\n    <div class=\"modal-content\">\r\n      <h2>Edit Restaurant</h2>\r\n      <form @submit.prevent=\"onSave\" v-if=\"editableRestaurant\">\r\n        <div class=\"form-group\">\r\n          <label for=\"name\">Name</label>\r\n          <input id=\"name\" v-model=\"editableRestaurant.name\" type=\"text\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"address\">Address</label>\r\n          <input id=\"address\" v-model=\"editableRestaurant.address\" type=\"text\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"city\">City</label>\r\n          <input id=\"city\" v-model=\"editableRestaurant.city\" type=\"text\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"state\">State</label>\r\n          <input id=\"state\" v-model=\"editableRestaurant.state\" type=\"text\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"zip\">Zip Code</label>\r\n          <input id=\"zip\" v-model=\"editableRestaurant.zip\" type=\"text\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"url\">Website URL</label>\r\n          <input id=\"url\" v-model=\"editableRestaurant.url\" type=\"url\" placeholder=\"https://example.com\">\r\n        </div>\r\n        <div class=\"modal-actions\">\r\n          <button type=\"button\" class=\"btn-cancel\" @click=\"$emit('close')\">Cancel</button>\r\n          <button type=\"submit\" class=\"btn-save\">Save Changes</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue';\r\n\r\nexport default {\r\n  name: 'EditRestaurantModal',\r\n  props: {\r\n    restaurant: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['close', 'save'],\r\n  setup(props, { emit }) {\r\n    const editableRestaurant = ref(null);\r\n\r\n    watch(() => props.restaurant, (newVal) => {\r\n      if (newVal) {\r\n        // Create a deep copy to avoid mutating the prop directly\r\n        editableRestaurant.value = JSON.parse(JSON.stringify(newVal));\r\n      }\r\n    }, { immediate: true, deep: true });\r\n\r\n    const onSave = () => {\r\n      emit('save', editableRestaurant.value);\r\n    };\r\n\r\n    return {\r\n      editableRestaurant,\r\n      onSave\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n.modal-content {\r\n  background: var(--card-background);\r\n  padding: 2em;\r\n  border-radius: 12px;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  box-shadow: 0 5px 15px rgba(0,0,0,0.3);\r\n}\r\n.form-group {\r\n  margin-bottom: 1.5em;\r\n}\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 0.5em;\r\n  font-weight: 600;\r\n}\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  border: 1px solid #ccc;\r\n  box-sizing: border-box;\r\n}\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1em;\r\n  margin-top: 2em;\r\n}\r\n.modal-actions button {\r\n  padding: 10px 20px;\r\n  border-radius: 8px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n}\r\n.btn-save {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n}\r\n.btn-cancel {\r\n  background-color: #ecf0f1;\r\n  color: var(--secondary-color);\r\n}\r\n</style>","import { render } from \"./EditRestaurantModal.vue?vue&type=template&id=2288406c&scoped=true\"\nimport script from \"./EditRestaurantModal.vue?vue&type=script&lang=js\"\nexport * from \"./EditRestaurantModal.vue?vue&type=script&lang=js\"\n\nimport \"./EditRestaurantModal.vue?vue&type=style&index=0&id=2288406c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2288406c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"modal-overlay\" @click.self=\"$emit('close')\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h2>Reviews for {{ restaurant.name }}</h2>\r\n        <button @click=\"$emit('close')\" class=\"close-btn\">&times;</button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div v-if=\"loading\" class=\"loading-indicator\">Loading reviews...</div>\r\n        <div v-else-if=\"reviews.length === 0\" class=\"no-reviews-message\">\r\n          No reviews yet for this restaurant.\r\n        </div>\r\n        <ul v-else class=\"reviews-list\">\r\n          <li v-for=\"review in reviews\" :key=\"review.id\" class=\"review-item\">\r\n            <div class=\"review-header\">\r\n              <img :src=\"review.userPhoto || 'https://cdn-icons-png.flaticon.com/512/149/149071.png'\" alt=\"User\" class=\"user-avatar\" />\r\n              <div class=\"user-info\">\r\n                <span class=\"user-name\">{{ review.userName }}</span>\r\n                <span class=\"review-date\">{{ formatDate(review.createdAt) }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"review-body\">\r\n              <StarRating :rating=\"review.rating\" />\r\n              <p v-if=\"review.text\" class=\"review-text\">\"{{ review.text }}\"</p>\r\n              <div v-if=\"review.photoURL\" class=\"review-photo-container\">\r\n                <img :src=\"review.photoURL\" alt=\"Review photo\" class=\"review-photo\" />\r\n              </div>\r\n              <div v-if=\"review.tags && review.tags.length > 0\" class=\"tags-container\">\r\n                <span v-for=\"tag in review.tags\" :key=\"tag\" class=\"tag\">{{ tag }}</span>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue';\r\nimport { db } from '../firebase';\r\nimport { collection, query, where, getDocs, orderBy } from 'firebase/firestore';\r\nimport StarRating from './StarRating.vue';\r\n\r\nexport default {\r\n  name: 'RestaurantReviewsModal',\r\n  components: { StarRating },\r\n  props: {\r\n    restaurant: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['close'],\r\n  setup(props) {\r\n    const reviews = ref([]);\r\n    const loading = ref(true);\r\n\r\n    const fetchReviewsForRestaurant = async () => {\r\n      if (!props.restaurant?.id) return;\r\n      console.log(`Fetching reviews for restaurant ID: ${props.restaurant.id}`);\r\n      loading.value = true;\r\n      reviews.value = [];\r\n      try {\r\n        const reviewsQuery = query(\r\n          collection(db, 'reviews'),\r\n          where('restaurantId', '==', props.restaurant.id),\r\n          orderBy('createdAt', 'desc')\r\n        );\r\n        const reviewsSnapshot = await getDocs(reviewsQuery);\r\n        console.log(`Found ${reviewsSnapshot.size} reviews for restaurant ${props.restaurant.id}.`);\r\n        const reviewData = reviewsSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n\r\n        if (reviewData.length === 0) {\r\n          reviews.value = [];\r\n          loading.value = false;\r\n          return;\r\n        }\r\n\r\n        const userIds = [...new Set(reviewData.map(r => r.userId))];\r\n        const usersMap = new Map();\r\n\r\n        // Firestore 'in' queries are limited to 30 elements.\r\n        // Batch the user ID fetches to handle more than 30 reviews.\r\n        const userPromises = [];\r\n        for (let i = 0; i < userIds.length; i += 30) {\r\n          const batchIds = userIds.slice(i, i + 30);\r\n          if (batchIds.length > 0) {\r\n            const usersQuery = query(collection(db, 'users'), where('uid', 'in', batchIds));\r\n            userPromises.push(getDocs(usersQuery));\r\n          }\r\n        }\r\n\r\n        const userSnapshots = await Promise.all(userPromises);\r\n        userSnapshots.forEach(snapshot => {\r\n          snapshot.forEach(doc => {\r\n            const userData = doc.data();\r\n            usersMap.set(userData.uid, userData);\r\n          });\r\n        });\r\n\r\n        reviews.value = reviewData.map(review => {\r\n          const user = usersMap.get(review.userId);\r\n          return {\r\n            ...review,\r\n            userName: user?.displayName || 'Unknown User',\r\n            userPhoto: user?.photoURL || null\r\n          };\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Error fetching reviews for restaurant:\", error);\r\n        console.error(\"Error fetching reviews:\", error);\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    watch(() => props.restaurant, (newRestaurant) => {\r\n      if (newRestaurant) {\r\n        fetchReviewsForRestaurant();\r\n      }\r\n    }, { immediate: true });\r\n\r\n    const formatDate = (timestamp) => {\r\n      if (!timestamp || !timestamp.toDate) return '';\r\n      return timestamp.toDate().toLocaleDateString();\r\n    };\r\n\r\n    return {\r\n      reviews,\r\n      loading,\r\n      formatDate\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: flex; justify-content: center; align-items: center; z-index: 1000; }\r\n.modal-content { background: var(--card-background); padding: 2em; border-radius: 12px; width: 90%; max-width: 700px; max-height: 90vh; display: flex; flex-direction: column; box-shadow: 0 5px 20px rgba(0,0,0,0.3); }\r\n.modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 1em; margin-bottom: 1em; }\r\n.modal-header h2 { margin: 0; }\r\n.close-btn { background: none; border: none; font-size: 2em; cursor: pointer; color: #777; }\r\n.modal-body { overflow-y: auto; }\r\n.loading-indicator, .no-reviews-message { text-align: center; color: #777; padding: 3em; }\r\n.reviews-list { list-style: none; padding: 0; margin: 0; }\r\n.review-item { border-bottom: 1px solid #eee; padding: 1.5em 0; }\r\n.review-item:last-child { border-bottom: none; }\r\n.review-header { display: flex; align-items: center; gap: 1em; margin-bottom: 1em; }\r\n.user-avatar { width: 40px; height: 40px; border-radius: 50%; }\r\n.user-info { display: flex; flex-direction: column; }\r\n.user-name { font-weight: 600; }\r\n.review-date { font-size: 0.85em; color: #777; }\r\n.review-body { padding-left: 50px; }\r\n.review-text { margin: 0.5em 0; font-style: italic; }\r\n.review-photo-container { margin-top: 1em; }\r\n.review-photo { max-width: 100%; max-height: 300px; border-radius: 8px; }\r\n.tags-container { margin-top: 1em; display: flex; flex-wrap: wrap; gap: 0.5em; }\r\n.tag { background-color: #ecf0f1; color: var(--secondary-color); padding: 4px 10px; border-radius: 15px; font-size: 0.85em; }\r\n</style>","import { render } from \"./RestaurantReviewsModal.vue?vue&type=template&id=9fcc604c&scoped=true\"\nimport script from \"./RestaurantReviewsModal.vue?vue&type=script&lang=js\"\nexport * from \"./RestaurantReviewsModal.vue?vue&type=script&lang=js\"\n\nimport \"./RestaurantReviewsModal.vue?vue&type=style&index=0&id=9fcc604c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9fcc604c\"]])\n\nexport default __exports__","import { render } from \"./Restaurants.vue?vue&type=template&id=69303f97&scoped=true\"\nimport script from \"./Restaurants.vue?vue&type=script&lang=js\"\nexport * from \"./Restaurants.vue?vue&type=script&lang=js\"\n\nimport \"./Restaurants.vue?vue&type=style&index=0&id=69303f97&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-69303f97\"]])\n\nexport default __exports__","<template>\n  <UserReviewsModal v-if=\"isReviewsModalVisible\" :user=\"userForReviews\" @close=\"closeReviewsModal\" />\n  <div class=\"user-search-page\">\n    <div class=\"search-box\">\n      <input type=\"text\" v-model=\"searchQuery\" placeholder=\"Search for users by name...\" class=\"search-input\">\n    </div>\n\n    <div v-if=\"loading\">Loading users...</div>\n    <div v-else>\n      <div v-if=\"filteredUsers.length === 0\" class=\"no-users-message\">\n        <span v-if=\"searchQuery\">No users found matching your search.</span>\n        <span v-else>No other users found.</span>\n      </div>\n      <div v-for=\"user in filteredUsers\" :key=\"user.uid\" class=\"user-card\">\n        <div class=\"user-card-content\">\n          <div class=\"user-info\">\n            <img :src=\"user.photoURL || 'https://cdn-icons-png.flaticon.com/512/149/149071.png'\" class=\"user-avatar\" alt=\"User\" />\n            <div class=\"user-details\">\n              <span class=\"user-name\">{{ user.displayName }}</span>\n              <div v-if=\"user.distance !== null\" class=\"user-distance\">{{ user.distance.toFixed(1) }} miles away</div>\n            </div>\n          </div>\n          <div v-if=\"user.lastReview\" class=\"last-review\">\n            <div class=\"review-header\">\n              Latest review: <strong>{{ user.lastReview.restaurantName }}</strong>\n            </div>\n            <div class=\"review-body\">\n              <StarRating :rating=\"user.lastReview.rating\" />\n              <p v-if=\"user.lastReview.text\" class=\"review-text\">\"{{ user.lastReview.text }}\"</p>\n            </div>\n          </div>\n          <div v-else class=\"last-review no-review\">\n            No reviews yet.\n          </div>\n        </div>\n        <div class=\"user-actions\">\n          <button @click=\"openReviewsModal(user)\" class=\"action-btn\" title=\"View Reviews\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"/></svg>\n          </button>\n          <button @click=\"toggleFollow(user)\" class=\"follow-btn\" :class=\"{ 'unfollow-btn': user.isFollowing }\">{{ user.isFollowing ? 'Unfollow' : 'Follow' }}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted, computed } from 'vue';\nimport { db, auth } from '../firebase';\nimport { collection, query, where, getDocs, doc, deleteDoc, addDoc, orderBy, limit, onSnapshot } from 'firebase/firestore';\nimport StarRating from './StarRating.vue';\nimport { getDistance } from '../utils/geolocation.js';\nimport UserReviewsModal from './UserReviewsModal.vue';\n\nexport default {\n  name: 'UserSearch',\n  components: { StarRating, UserReviewsModal },\n  setup() {\n    const users = ref([]);\n    const loading = ref(true);\n    const userLocation = ref(null);\n    const following = ref([]);\n    const searchQuery = ref('');\n    const isReviewsModalVisible = ref(false);\n    const userForReviews = ref(null);\n    let followsUnsubscribe = () => {};\n\n    const fetchUsers = async () => {\n      loading.value = true;\n      const currentUser = auth.currentUser;\n      if (!currentUser) return;\n\n      // Subscribe to real-time updates for the user's follows\n      const followsQuery = query(collection(db, 'follows'), where('followerId', '==', currentUser.uid));\n      followsUnsubscribe = onSnapshot(followsQuery, (snapshot) => {\n        const newFollowing = snapshot.docs.map(d => d.data().followingId);\n        following.value = newFollowing;\n        // Update the isFollowing status on the already-loaded users\n        users.value = users.value.map(u => ({\n          ...u,\n          isFollowing: newFollowing.includes(u.uid)\n        }));\n      });\n\n      const restaurantsSnap = await getDocs(collection(db, 'restaurants'));\n      const restaurantsMap = new Map();\n      restaurantsSnap.forEach(doc => {\n        restaurantsMap.set(doc.id, doc.data());\n      });\n\n      // NOTE: This page performs a query for every user to get their last review.\n      // This can be inefficient (N+1 problem). For better performance at scale,\n      // consider denormalizing the last review data onto the user document.\n      const usersQuery = query(collection(db, 'users'), where('uid', '!=', currentUser.uid));\n      const usersSnap = await getDocs(usersQuery);\n      const allUsers = usersSnap.docs\n        .map(doc => ({ uid: doc.id, ...doc.data() }))\n\n      const usersWithDetails = await Promise.all(\n        allUsers.map(async user => {\n          const reviewQuery = query(\n            collection(db, 'reviews'),\n            where('userId', '==', user.uid),\n            orderBy('createdAt', 'desc'),\n            limit(1)\n          );\n          const reviewSnap = await getDocs(reviewQuery);\n          let lastReview = null;\n          let distance = null;\n\n          if (!reviewSnap.empty) {\n            const reviewData = reviewSnap.docs[0].data();\n            const restaurant = restaurantsMap.get(reviewData.restaurantId);\n            lastReview = {\n              ...reviewData,\n              restaurantName: restaurant?.name || 'Unknown Restaurant'\n            };\n            \n            if (userLocation.value && restaurant?.location) {\n              distance = getDistance(\n                userLocation.value.lat,\n                userLocation.value.lng,\n                restaurant.location.lat,\n                restaurant.location.lng\n              );\n            }\n          }\n\n          return {\n            ...user,\n            isFollowing: following.value.includes(user.uid),\n            lastReview,\n            distance\n          };\n        })\n      );\n\n      users.value = usersWithDetails;\n      loading.value = false;\n    };\n\n    onMounted(() => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(pos => {\n          userLocation.value = {\n            lat: pos.coords.latitude,\n            lng: pos.coords.longitude\n          };\n          fetchUsers();\n        }, (error) => {\n          console.error(\"Error getting location\", error);\n          fetchUsers();\n        });\n      } else {\n        console.error(\"Geolocation is not supported by this browser.\");\n        fetchUsers();\n      }\n    });\n\n    onUnmounted(() => {\n      followsUnsubscribe();\n    });\n\n    const filteredUsers = computed(() => {\n      const sorted = [...users.value].sort((a, b) => {\n        if (a.distance === null && b.distance !== null) return 1;\n        if (a.distance !== null && b.distance === null) return -1;\n        if (a.distance === null && b.distance === null) return 0;\n        return a.distance - b.distance;\n      });\n\n      if (!searchQuery.value.trim()) {\n        return sorted;\n      }\n      const lowerCaseQuery = searchQuery.value.toLowerCase();\n      return sorted.filter(user =>\n        user.displayName.toLowerCase().includes(lowerCaseQuery)\n      );\n    });\n\n    const toggleFollow = async (user) => {\n      const currentUser = auth.currentUser;\n      if (!currentUser) return;\n\n      const followsRef = collection(db, 'follows');\n      if (user.isFollowing) {\n        // Unfollow\n        const q = query(followsRef, where('followerId', '==', currentUser.uid), where('followingId', '==', user.uid));\n        const followsSnap = await getDocs(q);\n        if (!followsSnap.empty) {\n          const docId = followsSnap.docs[0].id;\n          await deleteDoc(doc(db, 'follows', docId));\n        }\n      } else {\n        // Follow\n        await addDoc(followsRef, {\n          followerId: currentUser.uid,\n          followingId: user.uid,\n        });\n      }\n    };\n\n    const openReviewsModal = (user) => {\n      userForReviews.value = user;\n      isReviewsModalVisible.value = true;\n    };\n\n    const closeReviewsModal = () => {\n      isReviewsModalVisible.value = false;\n      userForReviews.value = null;\n    };\n\n    return { \n      filteredUsers, \n      loading, \n      toggleFollow, \n      searchQuery,\n      isReviewsModalVisible,\n      userForReviews,\n      openReviewsModal,\n      closeReviewsModal\n    };\n  }\n};\n</script>\n\n<style scoped>\n.user-search-page {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.search-box {\n  margin-bottom: 2em;\n}\n\n.search-input {\n  width: 100%;\n  padding: 12px 15px;\n  font-size: 1em;\n  border-radius: 8px;\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n}\n\n.no-users-message {\n  text-align: center;\n  color: #777;\n  padding: 2em;\n}\n\n.user-card {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: var(--card-background);\n  padding: 1.5em;\n  border-radius: 12px;\n  box-shadow: 0 4px 15px var(--shadow-color);\n  margin-bottom: 1.5em;\n  gap: 1.5em;\n}\n.user-card-content { flex-grow: 1; min-width: 0; }\n.user-info {\n  display: flex;\n  align-items: center;\n  gap: 1em;\n  min-width: 0;\n}\n.user-details {\n  min-width: 0;\n}\n.user-avatar {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n.user-name {\n  font-weight: 600;\n  font-size: 1.1em;\n  word-break: break-word;\n}\n.user-distance {\n  font-size: 0.9em;\n  color: #777;\n}\n.user-actions {\n  display: flex;\n  gap: 0.75em;\n  align-items: center;\n}\n.user-actions .action-btn {\n  background: none;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  padding: 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  color: #555;\n}\n.user-actions .action-btn:hover {\n  background-color: #f0f0f0;\n  border-color: #bbb;\n}\n.user-actions .follow-btn {\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background-color 0.2s;\n}\n.user-actions .follow-btn.unfollow-btn {\n  background-color: #e74c3c;\n}\n.user-actions .follow-btn:hover {\n  opacity: 0.9;\n}\n.last-review { margin-top: 1em; padding-top: 1em; border-top: 1px solid #eee; font-size: 0.9em; min-width: 0; }\n.review-header { margin-bottom: 0.5em; color: #555; word-break: break-word; }\n.review-body .star-rating { margin-bottom: 0.5em; }\n.review-text {\n  margin: 0.5em 0 0;\n  font-style: italic;\n  color: #333;\n  word-break: break-word;\n}\n.no-review { color: #888; font-style: italic; }\n\n@media (max-width: 768px) {\n  .user-card {\n    flex-direction: column;\n    align-items: stretch;\n  }\n  .user-actions {\n    margin-top: 1em;\n  }\n  .user-actions button {\n    width: 100%;\n  }\n}\n</style>\n","<template>\r\n  <div class=\"modal-overlay\" @click.self=\"$emit('close')\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h2>Reviews by {{ user.displayName }}</h2>\r\n        <button @click=\"$emit('close')\" class=\"close-btn\">&times;</button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div v-if=\"loading\" class=\"loading-indicator\">Loading reviews...</div>\r\n        <p v-else-if=\"reviews.length === 0\" class=\"no-reviews-message\">\r\n          This user hasn't posted any reviews yet.\r\n        </p>\r\n        <ul v-else class=\"reviews-list\">\r\n          <li v-for=\"review in reviews\" :key=\"review.id\" class=\"review-item\">\r\n            <div class=\"review-header\">\r\n              <span class=\"restaurant-name\">{{ review.restaurantName }}</span>\r\n              <span class=\"review-date\">{{ formatDate(review.createdAt) }}</span>\r\n            </div>\r\n            <div class=\"review-body\">\r\n              <StarRating :rating=\"review.rating\" />\r\n              <p v-if=\"review.text\" class=\"review-text\">\"{{ review.text }}\"</p>\r\n              <img v-if=\"review.photoURL\" :src=\"review.photoURL\" alt=\"Review photo\" class=\"review-photo\" />\r\n              <div v-if=\"review.tags && review.tags.length > 0\" class=\"tags-container\">\r\n                <span v-for=\"tag in review.tags\" :key=\"tag\" class=\"tag\">{{ tag }}</span>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch } from 'vue';\r\nimport { db } from '../firebase';\r\nimport { collection, query, where, getDocs, orderBy } from 'firebase/firestore';\r\nimport StarRating from './StarRating.vue';\r\n\r\nexport default {\r\n  name: 'UserReviewsModal',\r\n  components: { StarRating },\r\n  props: {\r\n    user: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['close'],\r\n  setup(props) {\r\n    const reviews = ref([]);\r\n    const loading = ref(true);\r\n\r\n    const fetchReviews = async () => {\r\n      if (!props.user?.uid) {\r\n        reviews.value = [];\r\n        loading.value = false;\r\n        return;\r\n      }\r\n      loading.value = true;\r\n      reviews.value = [];\r\n      try {\r\n        const restaurantsSnap = await getDocs(collection(db, 'restaurants'));\r\n        const restaurantsMap = new Map();\r\n        restaurantsSnap.forEach(doc => {\r\n          restaurantsMap.set(doc.id, doc.data().name);\r\n        });\r\n\r\n        const q = query(\r\n          collection(db, 'reviews'),\r\n          where('userId', '==', props.user.uid),\r\n          orderBy('createdAt', 'desc')\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        reviews.value = querySnapshot.docs.map(doc => {\r\n          const data = doc.data();\r\n          return {\r\n            id: doc.id,\r\n            ...data,\r\n            restaurantName: restaurantsMap.get(data.restaurantId) || 'Unknown Restaurant'\r\n          };\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Error fetching user reviews:\", error);\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    watch(() => props.user, (newUser) => {\r\n      if (newUser) {\r\n        fetchReviews();\r\n      }\r\n    }, { immediate: true });\r\n\r\n    const formatDate = (timestamp) => {\r\n      return timestamp && timestamp.toDate ? timestamp.toDate().toLocaleDateString() : '';\r\n    };\r\n\r\n    return { reviews, loading, formatDate };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: flex; justify-content: center; align-items: center; z-index: 1000; }\r\n.modal-content { background: white; padding: 2em; border-radius: 12px; width: 90%; max-width: 600px; max-height: 90vh; display: flex; flex-direction: column; }\r\n.modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 1em; margin-bottom: 1em; }\r\n.modal-header h2 { margin: 0; font-size: 1.5em; }\r\n.close-btn { background: none; border: none; font-size: 2em; cursor: pointer; line-height: 1; }\r\n.modal-body { overflow-y: auto; }\r\n.loading-indicator, .no-reviews-message { text-align: center; padding: 2em; color: #777; }\r\n.reviews-list { list-style: none; padding: 0; margin: 0; }\r\n.review-item { padding: 1.5em 0; border-bottom: 1px solid #eee; }\r\n.review-item:last-child { border-bottom: none; }\r\n.review-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1em; }\r\n.restaurant-name { font-weight: 600; font-size: 1.1em; }\r\n.review-date { font-size: 0.9em; color: #777; }\r\n.review-body .star-rating { margin-bottom: 0.5em; }\r\n.review-text { margin: 0.5em 0 0; font-style: italic; color: #333; }\r\n.review-photo { max-width: 100%; border-radius: 8px; margin-top: 1em; }\r\n.tags-container { margin-top: 1em; display: flex; flex-wrap: wrap; gap: 0.5em; }\r\n.tag { background-color: #ecf0f1; color: var(--secondary-color); padding: 4px 10px; border-radius: 15px; font-size: 0.85em; }\r\n</style>","import { render } from \"./UserReviewsModal.vue?vue&type=template&id=4e60c4e2&scoped=true\"\nimport script from \"./UserReviewsModal.vue?vue&type=script&lang=js\"\nexport * from \"./UserReviewsModal.vue?vue&type=script&lang=js\"\n\nimport \"./UserReviewsModal.vue?vue&type=style&index=0&id=4e60c4e2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e60c4e2\"]])\n\nexport default __exports__","import { render } from \"./UserSearch.vue?vue&type=template&id=e58e01e0&scoped=true\"\nimport script from \"./UserSearch.vue?vue&type=script&lang=js\"\nexport * from \"./UserSearch.vue?vue&type=script&lang=js\"\n\nimport \"./UserSearch.vue?vue&type=style&index=0&id=e58e01e0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e58e01e0\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"review-page\">\r\n    <div class=\"review-card\">\r\n      <form @submit.prevent=\"submitReview\">\r\n        <div class=\"form-group\">\r\n          <label for=\"restaurant\">Restaurant</label>\r\n          <select id=\"restaurant\" v-model=\"selectedRestaurant\" :disabled=\"!!selectedRestaurantId\" required>\r\n            <option disabled value=\"\">Please select a restaurant</option>\r\n            <option v-for=\"restaurant in restaurants\" :key=\"restaurant.id\" :value=\"restaurant.id\">\r\n              {{ restaurant.name }}\r\n            </option>\r\n          </select>\r\n          <div class=\"add-restaurant-prompt\" v-if=\"!selectedRestaurantId\">\r\n            Can't find the restaurant?\r\n            <button type=\"button\" class=\"link-button\" @click=\"showAddRestaurantForm = !showAddRestaurantForm\">\r\n              {{ showAddRestaurantForm ? 'Cancel' : 'Add a new one' }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"showAddRestaurantForm\" class=\"add-restaurant-form\">\r\n          <h3 class=\"add-restaurant-header\">Add New Restaurant</h3>\r\n          <div class=\"form-group\">\r\n            <label for=\"new-rest-name\">Name</label>\r\n            <input id=\"new-rest-name\" v-model=\"newRestaurant.name\" type=\"text\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"new-rest-address\">Address</label>\r\n            <input id=\"new-rest-address\" v-model=\"newRestaurant.address\" type=\"text\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"new-rest-city\">City</label>\r\n            <input id=\"new-rest-city\" v-model=\"newRestaurant.city\" type=\"text\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"new-rest-state\">State</label>\r\n            <input id=\"new-rest-state\" v-model=\"newRestaurant.state\" type=\"text\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"new-rest-zip\">Zip Code</label>\r\n            <input id=\"new-rest-zip\" v-model=\"newRestaurant.zip\" type=\"text\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"url\">Website URL</label>\r\n            <input id=\"url\" v-model=\"newRestaurant.url\" type=\"url\" placeholder=\"https://example.com\" />\r\n          </div>\r\n          <button type=\"button\" class=\"btn-save-restaurant\" @click=\"saveNewRestaurant\" :disabled=\"isSavingRestaurant\">\r\n            {{ isSavingRestaurant ? 'Saving...' : 'Save Restaurant' }}\r\n          </button>\r\n          <p v-if=\"addRestaurantError\" class=\"error-message\">{{ addRestaurantError }}</p>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Photo</label>\r\n          <div v-if=\"!photoDataUrl\" class=\"photo-actions\">\r\n            <button type=\"button\" @click=\"openCamera\" class=\"btn-secondary\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><circle cx=\"12\" cy=\"12\" r=\"3.2\"/><path d=\"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"/></svg>\r\n              Take a Picture\r\n            </button>\r\n            <button type=\"button\" @click=\"triggerFileUpload\" class=\"btn-secondary\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M9 16h6v-6h4l-7-7-7 7h4v6zm3-10.17L14.17 8H13v6h-2V8H9.83L12 5.83zM5 18h14v2H5v-2z\"/></svg>\r\n              Upload Photo\r\n            </button>\r\n            <input type=\"file\" ref=\"fileInput\" @change=\"handleFileUpload\" accept=\"image/*\" style=\"display: none\">\r\n          </div>\r\n          <div v-else class=\"photo-preview\">\r\n            <img :src=\"photoDataUrl\" alt=\"Review photo preview\" />\r\n            <button type=\"button\" @click=\"removePhoto\" class=\"btn-remove-photo\" title=\"Remove Photo\">&times;</button>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"isCameraOpen\" class=\"camera-modal\">\r\n          <video ref=\"videoPlayer\" class=\"camera-video\" autoplay playsinline></video>\r\n          <button type=\"button\" @click=\"capturePhoto\" class=\"btn-capture\">Capture</button>\r\n          <button type=\"button\" @click=\"closeCamera\" class=\"btn-cancel-camera\">Cancel</button>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Rating</label>\r\n          <div class=\"star-rating-input\">\r\n            <span v-for=\"star in 5\" :key=\"star\"\r\n              class=\"star\"\r\n              @mouseover=\"hoverRating = star\"\r\n              @mouseleave=\"hoverRating = 0\"\r\n              @click=\"rating = star\"\r\n              :title=\"`${star} star${star > 1 ? 's' : ''}`\"\r\n            >\r\n              <svg height=\"28px\" width=\"28px\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\r\n                <path :d=\"getStarPath(star)\" />\r\n              </svg>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Tags</label>\r\n          <div class=\"tags-container\">\r\n            <button\r\n              v-for=\"tag in tags\"\r\n              :key=\"tag.id\"\r\n              type=\"button\"\r\n              class=\"tag-btn\"\r\n              :class=\"{ selected: selectedTags.includes(tag.name) }\"\r\n              @click=\"toggleTag(tag.name)\"\r\n            >\r\n              {{ tag.name }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"new-tag\">Add a new tag</label>\r\n          <div class=\"new-tag-input\">\r\n            <input id=\"new-tag\" v-model.trim=\"newTag\" @keydown.enter.prevent=\"addNewTag\" placeholder=\"e.g., crispy, peppery, huge\">\r\n            <button type=\"button\" @click=\"addNewTag\" :disabled=\"!newTag.trim()\">Add Tag</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"comment\">Comment</label>\r\n          <textarea id=\"comment\" v-model=\"comment\" rows=\"4\" placeholder=\"How was the tenderloin?\"></textarea>\r\n        </div>\r\n\r\n        <button type=\"submit\" :disabled=\"submitting || !selectedRestaurant || !rating\">\r\n          {{ submitting ? 'Submitting...' : 'Submit Review' }}\r\n        </button>\r\n        <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref, onMounted, nextTick } from 'vue';\r\nimport { db, auth } from '../firebase';\r\nimport { collection, getDocs, addDoc, serverTimestamp, query, orderBy, where, doc, getDoc, updateDoc } from 'firebase/firestore';\r\nimport { getDistance } from '../utils/geolocation.js';\r\nimport { geocodeAddress } from '../utils/geocoding.js';\r\nimport { getStorage, ref as storageRef, uploadString, getDownloadURL } from 'firebase/storage';\r\n\r\nexport default {\r\n  name: 'Review',\r\n  props: {\r\n    selectedRestaurantId: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  emits: ['reviewed'],\r\n  setup(props, { emit }) {\r\n    const restaurants = ref([]);\r\n    const selectedRestaurant = ref(props.selectedRestaurantId || null);\r\n    const rating = ref(null);\r\n    const hoverRating = ref(0);\r\n    const comment = ref('');\r\n    const submitting = ref(false);\r\n    const errorMessage = ref('');\r\n    const tags = ref([]);\r\n    const selectedTags = ref([]);\r\n    const newTag = ref('');\r\n    const showAddRestaurantForm = ref(false);\r\n    const newRestaurant = ref({ name: '', address: '', city: '', state: '', zip: '', url: '' });\r\n    const isSavingRestaurant = ref(false);\r\n    const addRestaurantError = ref('');\r\n    const isCameraOpen = ref(false);\r\n    const photoDataUrl = ref(null);\r\n    const videoPlayer = ref(null);\r\n    const stream = ref(null);\r\n    const fileInput = ref(null);\r\n    const userLocation = ref(null);\r\n\r\n    // SVG paths for stars\r\n    const fullStarPath = \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27z\";\r\n    const emptyStarPath = \"M22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\";\r\n\r\n    const fetchTags = async () => {\r\n      const tagsQuery = query(collection(db, 'tags'), orderBy('name'));\r\n      const tagsSnapshot = await getDocs(tagsQuery);\r\n      tags.value = tagsSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n    };\r\n\r\n    const getUserLocation = () => {\r\n      return new Promise((resolve) => {\r\n        if (navigator.geolocation && !props.selectedRestaurantId) {\r\n          navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n              userLocation.value = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n              };\r\n              resolve();\r\n            },\r\n            () => resolve(), // Resolve even on error to not block\r\n            { timeout: 5000 }\r\n          );\r\n        } else {\r\n          resolve();\r\n        }\r\n      });\r\n    };\r\n\r\n    const selectClosestRestaurant = () => {\r\n      if (!userLocation.value || restaurants.value.length === 0) return;\r\n\r\n      let closestRestaurant = null;\r\n      let minDistance = Infinity;\r\n\r\n      restaurants.value.forEach(restaurant => {\r\n        if (restaurant.location) {\r\n          const distance = getDistance(\r\n            userLocation.value.lat,\r\n            userLocation.value.lng,\r\n            restaurant.location.lat,\r\n            restaurant.location.lng\r\n          );\r\n          if (distance !== null && distance < minDistance) {\r\n            minDistance = distance;\r\n            closestRestaurant = restaurant;\r\n          }\r\n        }\r\n      });\r\n\r\n      if (closestRestaurant) {\r\n        selectedRestaurant.value = closestRestaurant.id;\r\n      }\r\n    };\r\n\r\n    const fetchInitialData = async () => {\r\n      if (props.selectedRestaurantId) {\r\n        const restaurantRef = doc(db, 'restaurants', props.selectedRestaurantId);\r\n        const restaurantSnap = await getDoc(restaurantRef);\r\n        if (restaurantSnap.exists()) {\r\n            restaurants.value = [{ id: restaurantSnap.id, ...restaurantSnap.data() }];\r\n        }\r\n      } else {\r\n        const restaurantsQuery = query(collection(db, 'restaurants'), orderBy('name'));\r\n        const restaurantsSnapshot = await getDocs(restaurantsQuery);\r\n        restaurants.value = restaurantsSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n        await getUserLocation();\r\n        selectClosestRestaurant();\r\n      }\r\n    };\r\n\r\n    onMounted(async () => {\r\n      await Promise.all([fetchTags(), fetchInitialData()]);\r\n    });\r\n\r\n    const getStarPath = (starIndex) => {\r\n      const displayRating = hoverRating.value || rating.value;\r\n      return displayRating >= starIndex ? fullStarPath : emptyStarPath;\r\n    };\r\n\r\n    const toggleTag = (tagName) => {\r\n      const index = selectedTags.value.indexOf(tagName);\r\n      if (index > -1) {\r\n        selectedTags.value.splice(index, 1);\r\n      } else {\r\n        selectedTags.value.push(tagName);\r\n      }\r\n    };\r\n\r\n    const addNewTag = async () => {\r\n      const tagName = newTag.value.toLowerCase();\r\n      if (!tagName || tags.value.some(t => t.name === tagName)) {\r\n        newTag.value = '';\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const newDocRef = await addDoc(collection(db, 'tags'), {\r\n          name: tagName,\r\n          createdAt: serverTimestamp()\r\n        });\r\n        const newTagObject = { id: newDocRef.id, name: tagName };\r\n        tags.value.push(newTagObject);\r\n        tags.value.sort((a, b) => a.name.localeCompare(b.name));\r\n        selectedTags.value.push(tagName);\r\n        newTag.value = '';\r\n      } catch (error) {\r\n        errorMessage.value = \"Failed to add new tag.\";\r\n        console.error(\"Error adding new tag: \", error);\r\n      }\r\n    };\r\n\r\n    const saveNewRestaurant = async () => {\r\n      const name = newRestaurant.value.name.trim();\r\n      const address = newRestaurant.value.address.trim();\r\n\r\n      if (!name || !address) {\r\n        addRestaurantError.value = \"Restaurant name and address are required.\";\r\n        return;\r\n      }\r\n      isSavingRestaurant.value = true;\r\n      addRestaurantError.value = '';\r\n\r\n      try {\r\n        // Check for duplicates\r\n        const q = query(collection(db, 'restaurants'), where('name', '==', name), where('address', '==', address));\r\n        const querySnapshot = await getDocs(q);\r\n\r\n        if (!querySnapshot.empty) {\r\n          addRestaurantError.value = \"This restaurant already exists in the database.\";\r\n          isSavingRestaurant.value = false;\r\n          return;\r\n        }\r\n\r\n        const fullAddress = [newRestaurant.value.address, newRestaurant.value.city, newRestaurant.value.state, newRestaurant.value.zip].filter(Boolean).join(', ');\r\n        const location = await geocodeAddress(fullAddress);\r\n\r\n        if (!location) {\r\n          addRestaurantError.value = \"Could not find a location for the provided address. Please check the address and try again.\";\r\n          isSavingRestaurant.value = false;\r\n          return;\r\n        }\r\n\r\n        // Add new restaurant\r\n        const docData = {\r\n          ...newRestaurant.value,\r\n          name,\r\n          address,\r\n          location,\r\n          createdAt: serverTimestamp(),\r\n        };\r\n        const newDocRef = await addDoc(collection(db, 'restaurants'), docData);\r\n\r\n        // Update local state\r\n        const addedRestaurant = { id: newDocRef.id, ...docData };\r\n        restaurants.value.push(addedRestaurant);\r\n        restaurants.value.sort((a, b) => a.name.localeCompare(b.name));\r\n        selectedRestaurant.value = newDocRef.id;\r\n\r\n        // Reset form\r\n        showAddRestaurantForm.value = false;\r\n        newRestaurant.value = { name: '', address: '', city: '', state: '', zip: '', url: '' };\r\n      } catch (error) {\r\n        console.error(\"Error saving new restaurant:\", error);\r\n        addRestaurantError.value = \"Failed to save restaurant. Please try again.\";\r\n      } finally {\r\n        isSavingRestaurant.value = false;\r\n      }\r\n    };\r\n\r\n    const openCamera = async () => {\r\n      isCameraOpen.value = true;\r\n      await nextTick();\r\n      try {\r\n        stream.value = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } });\r\n        if (videoPlayer.value) {\r\n          videoPlayer.value.srcObject = stream.value;\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error accessing camera: \", err);\r\n        errorMessage.value = \"Could not access the camera. Please check permissions.\";\r\n        isCameraOpen.value = false;\r\n      }\r\n    };\r\n\r\n    const closeCamera = () => {\r\n      if (stream.value) {\r\n        stream.value.getTracks().forEach(track => track.stop());\r\n      }\r\n      isCameraOpen.value = false;\r\n    };\r\n\r\n    const capturePhoto = () => {\r\n      const canvas = document.createElement('canvas');\r\n      const video = videoPlayer.value;\r\n      const MAX_WIDTH = 1280;\r\n      const MAX_HEIGHT = 1280;\r\n      let width = video.videoWidth;\r\n      let height = video.videoHeight;\r\n\r\n      if (width > height) {\r\n        if (width > MAX_WIDTH) {\r\n          height *= MAX_WIDTH / width;\r\n          width = MAX_WIDTH;\r\n        }\r\n      } else {\r\n        if (height > MAX_HEIGHT) {\r\n          width *= MAX_HEIGHT / height;\r\n          height = MAX_HEIGHT;\r\n        }\r\n      }\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      const context = canvas.getContext('2d');\r\n      context.drawImage(video, 0, 0, width, height);\r\n      photoDataUrl.value = canvas.toDataURL('image/jpeg', 0.8);\r\n      closeCamera();\r\n    };\r\n\r\n    const removePhoto = () => {\r\n      photoDataUrl.value = null;\r\n    };\r\n\r\n    const triggerFileUpload = () => {\r\n      fileInput.value.click();\r\n    };\r\n\r\n    const handleFileUpload = (event) => {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          photoDataUrl.value = e.target.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    };\r\n\r\n    const submitReview = async () => {\r\n      const currentUser = auth.currentUser;\r\n      if (!currentUser || !selectedRestaurant.value || !rating.value) {\r\n        errorMessage.value = \"Please select a restaurant and provide a rating.\";\r\n        return;\r\n      }\r\n      submitting.value = true;\r\n      errorMessage.value = '';\r\n\r\n      try {\r\n        let photoURL = null;\r\n        if (photoDataUrl.value) {\r\n            const storage = getStorage();\r\n            const filePath = `reviews/${currentUser.uid}/${Date.now()}.jpg`;\r\n            const photoRef = storageRef(storage, filePath);\r\n            const uploadResult = await uploadString(photoRef, photoDataUrl.value, 'data_url');\r\n            photoURL = await getDownloadURL(uploadResult.ref);\r\n        }\r\n\r\n        const timestamp = serverTimestamp();\r\n\r\n        // Add a review document\r\n        await addDoc(collection(db, 'reviews'), {\r\n          userId: currentUser.uid,\r\n          restaurantId: selectedRestaurant.value,\r\n          photoURL,\r\n          rating: rating.value,\r\n          text: comment.value,\r\n          tags: selectedTags.value,\r\n          createdAt: timestamp,\r\n          lastActivityAt: timestamp\r\n        });\r\n\r\n        // Check if this restaurant is on the bucket list and mark as complete\r\n        const bucketListQuery = query(\r\n          collection(db, 'bucketListItems'),\r\n          where('userId', '==', currentUser.uid),\r\n          where('restaurantId', '==', selectedRestaurant.value)\r\n        );\r\n        const bucketListSnapshot = await getDocs(bucketListQuery);\r\n        if (!bucketListSnapshot.empty) {\r\n          const bucketListItemDoc = bucketListSnapshot.docs[0];\r\n          await updateDoc(bucketListItemDoc.ref, { completedAt: timestamp });\r\n        }\r\n\r\n        emit('reviewed');\r\n      } catch (error) {\r\n        console.error(\"Error submitting check-in: \", error);\r\n        errorMessage.value = \"Failed to submit check-in. Please try again.\";\r\n      } finally {\r\n        submitting.value = false;\r\n      }\r\n    };\r\n\r\n    return {\r\n      restaurants,\r\n      selectedRestaurant,\r\n      rating,\r\n      hoverRating,\r\n      comment,\r\n      submitting,\r\n      errorMessage,\r\n      getStarPath,\r\n      submitReview,\r\n      tags,\r\n      selectedTags,\r\n      newTag,\r\n      toggleTag,\r\n      addNewTag,\r\n      showAddRestaurantForm,\r\n      newRestaurant,\r\n      isSavingRestaurant,\r\n      addRestaurantError,\r\n      saveNewRestaurant,\r\n      isCameraOpen,\r\n      photoDataUrl,\r\n      videoPlayer,\r\n      openCamera, closeCamera, capturePhoto, removePhoto,\r\n      fileInput,\r\n      triggerFileUpload,\r\n      handleFileUpload\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.review-page {\r\n  max-width: 700px;\r\n  margin: 0 auto;\r\n}\r\n.review-card {\r\n  background: var(--card-background);\r\n  padding: 2em;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 15px var(--shadow-color);\r\n}\r\n.form-group {\r\n  margin-bottom: 1.5em;\r\n}\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 0.5em;\r\n  font-weight: 600;\r\n}\r\n.form-group input[type=\"text\"],\r\n.form-group input[type=\"url\"],\r\n.form-group select,\r\n.form-group textarea {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  border: 1px solid #ddd;\r\n  box-sizing: border-box;\r\n  font-family: inherit;\r\n  font-size: 1em;\r\n}\r\n.star-rating-input {\r\n  display: flex;\r\n  gap: 0.5em;\r\n}\r\n.star {\r\n  cursor: pointer;\r\n  color: #ccc;\r\n  transition: color 0.2s;\r\n}\r\n.star:hover,\r\n.star:hover ~ .star {\r\n  color: #ccc;\r\n}\r\n.photo-actions {\r\n  display: flex;\r\n  gap: 1em;\r\n}\r\n.star-rating-input:hover .star {\r\n  color: #f39c12;\r\n}\r\n.photo-actions .btn-secondary {\r\n  background-color: #ecf0f1;\r\n  color: var(--secondary-color);\r\n  border: 1px solid #bdc3c7;\r\n  padding: 10px 15px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 0.5em;\r\n}\r\n.photo-preview {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n.photo-preview img {\r\n  max-width: 100%;\r\n  max-height: 200px;\r\n  border-radius: 8px;\r\n  border: 1px solid #ddd;\r\n}\r\n.btn-remove-photo {\r\n  position: absolute;\r\n  top: -10px;\r\n  right: -10px;\r\n  background-color: #e74c3c;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 28px;\r\n  height: 28px;\r\n  font-size: 1.2em;\r\n  line-height: 1;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.camera-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.9);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1001;\r\n}\r\n.camera-video {\r\n  width: 100%;\r\n  max-width: 800px;\r\n  height: auto;\r\n}\r\n.btn-capture, .btn-cancel-camera {\r\n  margin-top: 1em;\r\n  padding: 12px 24px;\r\n  border-radius: 8px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n}\r\n.btn-capture { background-color: var(--primary-color); color: white; }\r\n.btn-cancel-camera { background-color: #e74c3c; color: white; margin-left: 1em; }\r\n.add-restaurant-prompt {\r\n  font-size: 0.9em;\r\n  margin-top: 0.8em;\r\n}\r\n.link-button {\r\n  background: none;\r\n  border: none;\r\n  color: var(--primary-color);\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  font-size: inherit;\r\n}\r\n.add-restaurant-form {\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  padding: 1.5em;\r\n  margin-top: 1.5em;\r\n  margin-bottom: 1.5em;\r\n  background-color: #f9f9f9;\r\n}\r\n.add-restaurant-header {\r\n  margin-top: 0;\r\n  margin-bottom: 1em;\r\n  font-size: 1.2em;\r\n}\r\n.btn-save-restaurant {\r\n  background-color: #27ae60;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 15px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n}\r\n.tags-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5em;\r\n  margin-bottom: 1em;\r\n}\r\n.tag-btn {\r\n  background-color: #ecf0f1;\r\n  color: var(--secondary-color);\r\n  border: 1px solid #bdc3c7;\r\n  padding: 6px 12px;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  font-size: 0.9em;\r\n}\r\n.tag-btn.selected {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border-color: var(--primary-color);\r\n}\r\n.new-tag-input {\r\n  display: flex;\r\n  gap: 0.5em;\r\n}\r\n.new-tag-input input {\r\n  flex-grow: 1;\r\n  width: 100%;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  border: 1px solid #ddd;\r\n  box-sizing: border-box;\r\n}\r\n.new-tag-input button {\r\n  background-color: #2ecc71;\r\n  white-space: nowrap;\r\n}\r\n.new-tag-input button:disabled {\r\n  background-color: #bdc3c7;\r\n  cursor: not-allowed;\r\n}\r\n.error-message {\r\n  color: #e74c3c;\r\n  margin-top: 1em;\r\n}\r\nbutton {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 24px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  font-size: 1em;\r\n  transition: background-color 0.2s;\r\n}\r\nbutton:disabled {\r\n  background-color: #bdc3c7;\r\n  cursor: not-allowed;\r\n}\r\n</style>","import { render } from \"./Review.vue?vue&type=template&id=19cfa51c&scoped=true\"\nimport script from \"./Review.vue?vue&type=script&lang=js\"\nexport * from \"./Review.vue?vue&type=script&lang=js\"\n\nimport \"./Review.vue?vue&type=style&index=0&id=19cfa51c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19cfa51c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"recommendations-page\">\r\n    <div class=\"page-header\">\r\n      <h2>Top 10 Recommendations</h2>\r\n      <p>Based on reviews in the last 6 months within 100 miles of your location.</p>\r\n    </div>\r\n    <div v-if=\"loading\" class=\"loading-indicator\">Loading recommendations...</div>\r\n    <div v-else>\r\n      <p v-if=\"restaurants.length === 0\" class=\"no-restaurants-message\">\r\n        No recommendations found.\r\n      </p>\r\n      <ul v-else class=\"restaurant-list\">\r\n        <li v-for=\"restaurant in restaurants\" :key=\"restaurant.id\" class=\"restaurant-item\">\r\n          <div class=\"restaurant-details\">\r\n            <span class=\"restaurant-name\">{{ restaurant.name }}</span>\r\n            <div class=\"restaurant-meta\">\r\n              <div v-if=\"restaurant.averageRating > 0\" class=\"rating\" :title=\"`${restaurant.averageRating.toFixed(2)} average rating`\">\r\n                <StarRating :rating=\"restaurant.averageRating\" />\r\n                <span class=\"rating-text\">{{ restaurant.averageRating.toFixed(1) }}</span>\r\n                <span class=\"rating-count\">({{ restaurant.reviewCount }} recent reviews)</span>\r\n              </div>\r\n              <span v-if=\"restaurant.distance !== null\" class=\"distance\">{{ restaurant.distance.toFixed(1) }} miles away</span>\r\n            </div>\r\n            <span class=\"restaurant-address\">{{ restaurant.address }}, {{ restaurant.city }}, {{ restaurant.state }} {{ restaurant.zip }}</span>\r\n          </div>\r\n          <div class=\"restaurant-actions\">\r\n            <button @click=\"toggleBucketList(restaurant)\" class=\"action-btn\" :class=\"{ 'in-bucket-list': isInBucketList(restaurant.id) }\" :title=\"isInBucketList(restaurant.id) ? 'Remove from Bucket List' : 'Add to Bucket List'\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M18 7h-2.06c-.33-3.2-2.46-5.8-5.94-5.8S4.39 3.8 4.06 7H2v12h16V7zM6.14 7c.2-1.92 1.6-3.48 3.86-3.8A4.002 4.002 0 0 1 14 7h-2.14c-.2-1.92-1.6-3.48-3.86-3.8zM16 17H4v-8h12v8z\"/></svg>\r\n            </button>\r\n            <a :href=\"getDirectionsUrl(restaurant)\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"action-btn\" title=\"Get Directions\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M22.43 10.59l-9.01-9.01c-.75-.75-2.07-.76-2.83 0l-9.01 9.01c-.76.75-.76 2.07 0 2.83l9.01 9.01c.75.75 2.07.75 2.83 0l9.01-9.01c.75-.76.75-2.08 0-2.83zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z\"/></svg>\r\n            </a>\r\n            <a :href=\"getDetailsUrl(restaurant)\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"action-btn\" title=\"View Details on Google\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 5 1.41-1.41L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/></svg>\r\n            </a>\r\n            <button class=\"check-in-btn\" @click=\"$emit('review-at', restaurant.id)\">Review</button>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\nimport { db, auth } from '../firebase';\r\nimport { collection, getDocs, query, where, Timestamp, onSnapshot, addDoc, deleteDoc, serverTimestamp } from 'firebase/firestore';\r\nimport StarRating from './StarRating.vue';\r\nimport { getDistance } from '../utils/geolocation.js';\r\n\r\nexport default {\r\n  name: 'Recommendations',\r\n  components: { StarRating },\r\n  emits: ['review-at'],\r\n  setup() {\r\n    const restaurants = ref([]);\r\n    const loading = ref(true);\r\n    const userLocation = ref(null);\r\n    const bucketList = ref(new Set());\r\n    let bucketListUnsubscribe = () => {};\r\n\r\n    const fetchRecommendations = async () => {\r\n      if (!userLocation.value) {\r\n        console.error(\"User location not available.\");\r\n        loading.value = false;\r\n        restaurants.value = [];\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const allRestaurantsSnapshot = await getDocs(collection(db, 'restaurants'));\r\n        const allRestaurants = allRestaurantsSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n\r\n        const nearbyRestaurants = allRestaurants.filter(r => {\r\n          if (!r.location || typeof r.location.lat !== 'number' || typeof r.location.lng !== 'number') {\r\n            return false;\r\n          }\r\n          const distance = getDistance(userLocation.value.lat, userLocation.value.lng, r.location.lat, r.location.lng);\r\n          r.distance = distance;\r\n          return distance !== null && distance <= 100;\r\n        });\r\n\r\n        const sixMonthsAgo = new Date();\r\n        sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);\r\n        const sixMonthsAgoTimestamp = Timestamp.fromDate(sixMonthsAgo);\r\n\r\n        const reviewsQuery = query(collection(db, 'reviews'), where('createdAt', '>=', sixMonthsAgoTimestamp));\r\n        const reviewsSnapshot = await getDocs(reviewsQuery);\r\n        const recentReviews = reviewsSnapshot.docs.map(doc => doc.data());\r\n\r\n        const recommendations = nearbyRestaurants.map(restaurant => {\r\n          const relevantReviews = recentReviews.filter(review => review.restaurantId === restaurant.id && typeof review.rating === 'number');\r\n          let averageRating = 0;\r\n          let reviewCount = 0;\r\n\r\n          if (relevantReviews.length > 0) {\r\n            const totalRating = relevantReviews.reduce((sum, review) => sum + review.rating, 0);\r\n            averageRating = totalRating / relevantReviews.length;\r\n            reviewCount = relevantReviews.length;\r\n          }\r\n\r\n          return { ...restaurant, averageRating, reviewCount };\r\n        }).filter(r => r.reviewCount > 0);\r\n\r\n        recommendations.sort((a, b) => b.averageRating - a.averageRating);\r\n        restaurants.value = recommendations.slice(0, 10);\r\n\r\n      } catch (error) {\r\n        console.error(\"Error fetching recommendations:\", error);\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n          userLocation.value = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          };\r\n          fetchRecommendations();\r\n          subscribeToBucketList();\r\n        }, (error) => {\r\n          console.error(\"Geolocation failed. Using default location.\", error);\r\n          userLocation.value = { lat: 41.5, lng: -90.5 }; // Default to Quad Cities\r\n          fetchRecommendations();\r\n          subscribeToBucketList();\r\n        });\r\n      } else {\r\n        console.error(\"Geolocation is not supported by this browser.\");\r\n        userLocation.value = { lat: 41.5, lng: -90.5 }; // Default to Quad Cities\r\n        fetchRecommendations();\r\n        subscribeToBucketList();\r\n      }\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      bucketListUnsubscribe();\r\n    });\r\n\r\n    const getDirectionsUrl = (restaurant) => {\r\n      const destination = encodeURIComponent(`${restaurant.name}, ${restaurant.address}`);\r\n      return `https://www.google.com/maps/dir/?api=1&destination=${destination}`;\r\n    };\r\n\r\n    const getDetailsUrl = (restaurant) => {\r\n      const query = encodeURIComponent(`${restaurant.name}, ${restaurant.address}`);\r\n      return `https://www.google.com/search?q=${query}`;\r\n    };\r\n\r\n    const subscribeToBucketList = () => {\r\n      const currentUser = auth.currentUser;\r\n      if (!currentUser) return;\r\n      const q = query(collection(db, 'bucketListItems'), where('userId', '==', currentUser.uid));\r\n      bucketListUnsubscribe = onSnapshot(q, (snapshot) => {\r\n        const newBucketList = new Set();\r\n        snapshot.forEach(doc => newBucketList.add(doc.data().restaurantId));\r\n        bucketList.value = newBucketList;\r\n      });\r\n    };\r\n\r\n    const isInBucketList = (restaurantId) => {\r\n      return bucketList.value.has(restaurantId);\r\n    };\r\n\r\n    const toggleBucketList = async (restaurant) => {\r\n      const currentUser = auth.currentUser;\r\n      if (!currentUser) return;\r\n\r\n      if (isInBucketList(restaurant.id)) {\r\n        const q = query(collection(db, 'bucketListItems'), where('userId', '==', currentUser.uid), where('restaurantId', '==', restaurant.id));\r\n        const snapshot = await getDocs(q);\r\n        snapshot.forEach(doc => deleteDoc(doc.ref));\r\n      } else {\r\n        await addDoc(collection(db, 'bucketListItems'), {\r\n          userId: currentUser.uid,\r\n          restaurantId: restaurant.id,\r\n          createdAt: serverTimestamp()\r\n        });\r\n      }\r\n    };\r\n\r\n    return {\r\n      restaurants,\r\n      loading,\r\n      getDirectionsUrl,\r\n      getDetailsUrl,\r\n      isInBucketList,\r\n      toggleBucketList\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page-header {\r\n  text-align: center;\r\n  margin-bottom: 2em;\r\n}\r\n.page-header h2 {\r\n  margin-bottom: 0.25em;\r\n}\r\n.page-header p {\r\n  color: #777;\r\n  max-width: 500px;\r\n  margin: 0 auto;\r\n}\r\n.loading-indicator, .no-restaurants-message {\r\n  text-align: center;\r\n  color: #777;\r\n  padding: 3em;\r\n}\r\n.restaurant-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n.restaurant-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1.5em;\r\n  background: var(--card-background);\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 15px var(--shadow-color);\r\n  margin-bottom: 1.5em;\r\n}\r\n.restaurant-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.restaurant-name {\r\n  font-weight: 600;\r\n  font-size: 1.2em;\r\n  margin-bottom: 0.25em;\r\n  word-break: break-word;\r\n}\r\n.restaurant-meta {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 1em;\r\n  margin-bottom: 0.5em;\r\n  color: #555;\r\n  font-size: 0.9em;\r\n}\r\n.rating {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.25em;\r\n}\r\n.rating-text {\r\n  font-weight: bold;\r\n  margin-left: 0.25em;\r\n}\r\n.rating-count {\r\n  color: #777;\r\n}\r\n.distance {\r\n  font-style: italic;\r\n}\r\n.restaurant-address {\r\n  color: #777;\r\n  font-size: 0.9em;\r\n  word-break: break-word;\r\n}\r\n.restaurant-actions {\r\n  display: flex;\r\n  gap: 0.75em;\r\n}\r\n.action-btn, .check-in-btn {\r\n  background: none;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s;\r\n  color: #555;\r\n}\r\n.action-btn:hover {\r\n  background-color: #f0f0f0;\r\n  border-color: #bbb;\r\n}\r\n.action-btn svg {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n.check-in-btn {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border-color: var(--primary-color);\r\n  padding: 8px 16px;\r\n  font-weight: 600;\r\n}\r\n.check-in-btn:hover {\r\n  background-color: var(--primary-dark-color);\r\n}\r\n.in-bucket-list {\r\n  color: var(--primary-color) !important;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .restaurant-item {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 1em;\r\n  }\r\n  .restaurant-actions {\r\n    width: 100%;\r\n    flex-wrap: wrap;\r\n    gap: 0.5em;\r\n  }\r\n  .restaurant-actions .action-btn,\r\n  .restaurant-actions .check-in-btn {\r\n    flex-grow: 1;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>","import { render } from \"./Recommendations.vue?vue&type=template&id=7a582d05&scoped=true\"\nimport script from \"./Recommendations.vue?vue&type=script&lang=js\"\nexport * from \"./Recommendations.vue?vue&type=script&lang=js\"\n\nimport \"./Recommendations.vue?vue&type=style&index=0&id=7a582d05&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7a582d05\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"stats-page\">\r\n    <h2>Database Stats</h2>\r\n    <div class=\"stats-container\">\r\n      <div v-if=\"statsLoading\">Loading stats...</div>\r\n      <ul v-else-if=\"stats\" class=\"stats-grid\">\r\n        <li class=\"stat-card\">\r\n          <strong>Restaurants</strong>\r\n          <span>{{ stats.restaurants }}</span>\r\n        </li>\r\n        <li class=\"stat-card\">\r\n          <strong>Users</strong>\r\n          <span>{{ stats.users }}</span>\r\n        </li>\r\n        <li class=\"stat-card\">\r\n          <strong>Reviews</strong>\r\n          <span>{{ stats.reviews }}</span>\r\n        </li>\r\n        <li class=\"stat-card\">\r\n          <strong>Follows</strong>\r\n          <span>{{ stats.follows }}</span>\r\n        </li>\r\n      </ul>\r\n      <div v-else>Could not load stats.</div>\r\n      <div v-if=\"log.length > 0\" class=\"log-container\">\r\n        <h3>Log:</h3>\r\n        <pre>{{ log.join('\\n') }}</pre>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport { db } from '../firebase';\r\nimport { collection, getCountFromServer } from 'firebase/firestore';\r\n\r\nexport default {\r\n  name: 'DatabaseStats',\r\n  setup() {\r\n    const stats = ref(null);\r\n    const statsLoading = ref(true);\r\n    const log = ref([]);\r\n\r\n    const fetchCollectionStats = async () => {\r\n      statsLoading.value = true;\r\n      try {\r\n        const collectionsToCount = ['restaurants', 'users', 'reviews', 'follows'];\r\n        const counts = {};\r\n        const promises = collectionsToCount.map(async (colName) => {\r\n          const coll = collection(db, colName);\r\n          const snapshot = await getCountFromServer(coll);\r\n          counts[colName] = snapshot.data().count;\r\n        });\r\n        await Promise.all(promises);\r\n        stats.value = counts;\r\n      } catch (error) {\r\n        log.value.push('Error fetching collection stats: ' + error.message);\r\n        console.error(\"Error fetching stats:\", error);\r\n      } finally {\r\n        statsLoading.value = false;\r\n      }\r\n    };\r\n\r\n    onMounted(fetchCollectionStats);\r\n\r\n    return { stats, statsLoading, log };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.stats-page {\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n}\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n  gap: 1.5em;\r\n  list-style: none;\r\n  padding: 0;\r\n}\r\n.stat-card {\r\n  background: var(--card-background);\r\n  padding: 1.5em;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 15px var(--shadow-color);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5em;\r\n}\r\n.stat-card strong {\r\n  font-size: 1.1em;\r\n  color: var(--text-color);\r\n}\r\n.stat-card span {\r\n  font-size: 2.5em;\r\n  font-weight: 700;\r\n  color: var(--primary-color);\r\n}\r\n.log-container {\r\n  margin-top: 24px;\r\n  background: #fff;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n  border: 1px solid #eee;\r\n}\r\npre {\r\n    white-space: pre-wrap;\r\n    word-wrap: break-word;\r\n}\r\n</style>","import { render } from \"./DatabaseStats.vue?vue&type=template&id=7fa04ecf&scoped=true\"\nimport script from \"./DatabaseStats.vue?vue&type=script&lang=js\"\nexport * from \"./DatabaseStats.vue?vue&type=script&lang=js\"\n\nimport \"./DatabaseStats.vue?vue&type=style&index=0&id=7fa04ecf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7fa04ecf\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"my-reviews-page\">\r\n    <EditReviewModal\r\n      v-if=\"isEditModalVisible\"\r\n      :review=\"reviewToEdit\"\r\n      @close=\"closeEditModal\"\r\n      @save=\"handleSaveReview\"\r\n    />\r\n    <div v-if=\"loading\" class=\"loading-indicator\">Loading your reviews...</div>\r\n    <div v-else-if=\"populatedReviews.length === 0\" class=\"no-reviews-message\">\r\n      <p>You haven't posted any reviews yet.</p>\r\n      <button @click=\"$emit('go-to-review')\">Post your first review!</button>\r\n    </div>\r\n    <div v-else class=\"reviews-list\">\r\n      <div v-for=\"review in populatedReviews\" :key=\"review.id\" class=\"review-card\">\r\n        <div class=\"card-header\">\r\n          <span class=\"restaurant-name\">{{ review.restaurantName }}</span>\r\n          <span class=\"review-date\">{{ formatDate(review.createdAt) }}</span>\r\n        </div>\r\n        <div v-if=\"review.photoURL\" class=\"photo-container\">\r\n          <img :src=\"review.photoURL\" alt=\"Review photo\" class=\"check-in-photo\" />\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div class=\"rating-display\">\r\n            <StarRating :rating=\"review.rating\" />\r\n          </div>\r\n          <p v-if=\"review.comment\" class=\"comment-text\">\"{{ review.comment }}\"</p>\r\n          <div v-if=\"review.tags && review.tags.length > 0\" class=\"tags-container\">\r\n            <span v-for=\"tag in review.tags\" :key=\"tag\" class=\"tag\">{{ tag }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-actions\">\r\n          <button @click=\"openEditModal(review)\" class=\"action-btn edit-btn\">Edit</button>\r\n          <button @click=\"handleDeleteReview(review)\" class=\"action-btn delete-btn\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport { db, auth } from '../firebase';\r\nimport { collection, query, where, getDocs, orderBy, deleteDoc, doc, updateDoc } from 'firebase/firestore';\r\nimport { getStorage, ref as storageRef, deleteObject, uploadString, getDownloadURL } from 'firebase/storage';\r\nimport StarRating from './StarRating.vue';\r\nimport EditReviewModal from './EditReviewModal.vue';\r\n\r\nexport default {\r\n  name: 'MyReviews',\r\n  components: { StarRating, EditReviewModal },\r\n  emits: ['go-to-review'],\r\n  setup() {\r\n    const loading = ref(true);\r\n    const reviews = ref([]);\r\n    const restaurantsMap = ref(new Map());\r\n    const isEditModalVisible = ref(false);\r\n    const reviewToEdit = ref(null);\r\n\r\n    const fetchReviews = async () => {\r\n      loading.value = true;\r\n      const currentUser = auth.currentUser;\r\n      if (!currentUser) {\r\n        loading.value = false;\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const [reviewsSnapshot, restaurantsSnapshot] = await Promise.all([\r\n          getDocs(query(collection(db, 'reviews'), where('userId', '==', currentUser.uid), orderBy('createdAt', 'desc'))),\r\n          getDocs(collection(db, 'restaurants'))\r\n        ]);\r\n\r\n        restaurantsSnapshot.forEach(doc => {\r\n          restaurantsMap.value.set(doc.id, doc.data());\r\n        });\r\n\r\n        reviews.value = reviewsSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n      } catch (error) {\r\n        console.error(\"Error fetching reviews:\", error);\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    onMounted(fetchReviews);\r\n\r\n    const populatedReviews = computed(() => {\r\n      return reviews.value.map(review => ({\r\n        ...review,\r\n        comment: review.text,\r\n        restaurantName: restaurantsMap.value.get(review.restaurantId)?.name || 'Unknown Restaurant'\r\n      }));\r\n    });\r\n\r\n    const formatDate = (timestamp) => {\r\n      if (!timestamp || !timestamp.toDate) return '';\r\n      return timestamp.toDate().toLocaleDateString();\r\n    };\r\n\r\n    const openEditModal = (review) => {\r\n      reviewToEdit.value = review;\r\n      isEditModalVisible.value = true;\r\n    };\r\n\r\n    const closeEditModal = () => {\r\n      isEditModalVisible.value = false;\r\n      reviewToEdit.value = null;\r\n    };\r\n\r\n    const handleDeleteReview = async (review) => {\r\n      if (!window.confirm(\"Are you sure you want to delete this review? This action cannot be undone.\")) {\r\n        return;\r\n      }\r\n      try {\r\n        // If there's a photo, schedule it for deletion\r\n        if (review.photoURL) {\r\n          const storage = getStorage();\r\n          const photoRef = storageRef(storage, review.photoURL);\r\n          await deleteObject(photoRef).catch(err => console.error(\"Error deleting old photo:\", err)); // Log error but don't block\r\n        }\r\n\r\n        const reviewDocRef = doc(db, 'reviews', review.id);\r\n        await deleteDoc(reviewDocRef);\r\n\r\n        // Update local state\r\n        reviews.value = reviews.value.filter(c => c.id !== review.id);\r\n      } catch (error) {\r\n        console.error(\"Error deleting review:\", error);\r\n        alert(\"Failed to delete review. Please try again.\");\r\n      }\r\n    };\r\n\r\n    const handleSaveReview = async (updatedPayload) => {\r\n      const { reviewData, newPhotoDataUrl, photoRemoved } = updatedPayload;\r\n      const originalReview = reviews.value.find(c => c.id === reviewData.id);\r\n\r\n      try {\r\n        let photoURL = originalReview.photoURL;\r\n        const storage = getStorage();\r\n\r\n        // Handle photo removal or replacement\r\n        if (newPhotoDataUrl || photoRemoved) {\r\n          if (originalReview.photoURL) {\r\n            const oldPhotoRef = storageRef(storage, originalReview.photoURL);\r\n            await deleteObject(oldPhotoRef).catch(err => console.warn(\"Could not delete old photo:\", err));\r\n          }\r\n        }\r\n\r\n        // Handle new photo upload\r\n        if (newPhotoDataUrl) {\r\n          const currentUser = auth.currentUser;\r\n          const filePath = `reviews/${currentUser.uid}/${Date.now()}.jpg`;\r\n          const photoRef = storageRef(storage, filePath);\r\n          const uploadResult = await uploadString(photoRef, newPhotoDataUrl, 'data_url');\r\n          photoURL = await getDownloadURL(uploadResult.ref);\r\n        } else if (photoRemoved) {\r\n          photoURL = null;\r\n        }\r\n\r\n        const reviewDocRef = doc(db, 'reviews', reviewData.id);\r\n        await updateDoc(reviewDocRef, {\r\n          rating: reviewData.rating,\r\n          text: reviewData.comment,\r\n          tags: reviewData.tags,\r\n          photoURL: photoURL\r\n        });\r\n\r\n        // Update local state\r\n        const index = reviews.value.findIndex(c => c.id === reviewData.id);\r\n        if (index !== -1) {\r\n          reviews.value[index] = { ...reviews.value[index], ...reviewData, photoURL };\r\n        }\r\n        closeEditModal();\r\n      } catch (error) {\r\n        console.error(\"Error updating review:\", error);\r\n        alert(\"Failed to update review. Please try again.\");\r\n      }\r\n    };\r\n\r\n    return {\r\n      loading,\r\n      populatedReviews,\r\n      formatDate,\r\n      isEditModalVisible,\r\n      reviewToEdit,\r\n      openEditModal,\r\n      closeEditModal,\r\n      handleDeleteReview,\r\n      handleSaveReview\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.my-reviews-page { max-width: 800px; margin: 0 auto; }\r\n.loading-indicator, .no-reviews-message { text-align: center; color: #777; padding: 3em; }\r\n.review-card { background: var(--card-background); border-radius: 12px; box-shadow: 0 4px 15px var(--shadow-color); margin-bottom: 1.5em; overflow: hidden; }\r\n.photo-container {\r\n  width: 100%;\r\n  max-height: 400px;\r\n  overflow: hidden;\r\n}\r\n.check-in-photo { width: 100%; height: auto; object-fit: cover; }\r\n.card-header { background-color: #f9f9f9; padding: 1em 1.5em; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; }\r\n.restaurant-name { font-weight: 600; font-size: 1.1em; }\r\n.review-date { font-size: 0.9em; color: #777; }\r\n.card-body { padding: 1.5em; }\r\n.rating-display { margin-bottom: 1em; }\r\n.comment-text { font-style: italic; color: #555; margin: 0 0 1em 0; }\r\n.tags-container { display: flex; flex-wrap: wrap; gap: 0.5em; }\r\n.tag { background-color: #ecf0f1; color: var(--secondary-color); padding: 4px 10px; border-radius: 15px; font-size: 0.85em; }\r\n.card-actions { padding: 0 1.5em 1.5em; display: flex; justify-content: flex-end; gap: 1em; }\r\n.action-btn { background: none; border: 1px solid #ccc; border-radius: 8px; padding: 8px 16px; cursor: pointer; font-weight: 600; transition: all 0.2s; }\r\n.edit-btn { color: var(--primary-color); border-color: var(--primary-color); }\r\n.edit-btn:hover { background-color: var(--primary-color); color: white; }\r\n.delete-btn { color: #e74c3c; border-color: #e74c3c; }\r\n.delete-btn:hover { background-color: #e74c3c; color: white; }\r\n</style>","<template>\r\n  <div class=\"modal-overlay\" @click.self=\"$emit('close')\">\r\n    <div v-if=\"editableReview\" class=\"modal-content\">\r\n      <h2>Edit Review</h2>\r\n      <form @submit.prevent=\"onSave\">\r\n        <div class=\"form-group\">\r\n          <label>Rating</label>\r\n          <div class=\"star-rating-input\">\r\n            <span v-for=\"star in 5\" :key=\"star\" class=\"star\" @mouseover=\"hoverRating = star\" @mouseleave=\"hoverRating = 0\" @click=\"editableReview.rating = star\" :title=\"`${star} star${star > 1 ? 's' : ''}`\">\r\n              <svg height=\"28px\" width=\"28px\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M0 0h24v24H0V0z\" fill=\"none\"></path>\r\n                <path :d=\"getStarPath(star)\"></path>\r\n              </svg>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Photo</label>\r\n          <div v-if=\"photoDataUrl || editableReview.photoURL\" class=\"photo-preview\">\r\n            <img :src=\"photoDataUrl || editableReview.photoURL\" alt=\"Review photo preview\">\r\n            <button type=\"button\" @click=\"removePhoto\" class=\"btn-remove-photo\" title=\"Remove Photo\">&times;</button>\r\n          </div>\r\n          <div v-else class=\"photo-actions\">\r\n            <button type=\"button\" @click=\"openCamera\" class=\"btn-secondary\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><circle cx=\"12\" cy=\"12\" r=\"3.2\"/><path d=\"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"/></svg>\r\n              Take a Picture\r\n            </button>\r\n            <button type=\"button\" @click=\"triggerFileUpload\" class=\"btn-secondary\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M9 16h6v-6h4l-7-7-7 7h4v6zm3-10.17L14.17 8H13v6h-2V8H9.83L12 5.83zM5 18h14v2H5v-2z\"/></svg>\r\n              Upload Photo\r\n            </button>\r\n            <input type=\"file\" ref=\"fileInput\" @change=\"handleFileUpload\" accept=\"image/*\" style=\"display: none\">\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"isCameraOpen\" class=\"camera-modal\">\r\n          <video ref=\"videoPlayer\" class=\"camera-video\" autoplay playsinline></video>\r\n          <button type=\"button\" @click=\"capturePhoto\" class=\"btn-capture\">Capture</button>\r\n          <button type=\"button\" @click=\"closeCamera\" class=\"btn-cancel-camera\">Cancel</button>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"comment\">Comment</label>\r\n          <textarea id=\"comment\" v-model=\"editableReview.comment\" rows=\"4\"></textarea>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Tags</label>\r\n          <div class=\"tags-container\">\r\n            <button v-for=\"tag in allTags\" :key=\"tag.id\" type=\"button\" class=\"tag-btn\" :class=\"{ selected: editableReview.tags.includes(tag.name) }\" @click=\"toggleTag(tag.name)\">\r\n              {{ tag.name }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"modal-actions\">\r\n          <button type=\"button\" class=\"btn-cancel\" @click=\"$emit('close')\">Cancel</button>\r\n          <button type=\"submit\" class=\"btn-save\">Save Changes</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, watch, nextTick } from 'vue';\r\nimport { db } from '../firebase';\r\nimport { collection, query, orderBy, getDocs } from 'firebase/firestore';\r\n\r\nexport default {\r\n  name: 'EditReviewModal',\r\n  props: {\r\n    review: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['close', 'save'],\r\n  setup(props, { emit }) {\r\n    const editableReview = ref(null);\r\n    const hoverRating = ref(0);\r\n    const allTags = ref([]);\r\n    const isCameraOpen = ref(false);\r\n    const photoDataUrl = ref(null);\r\n    const photoRemoved = ref(false);\r\n    const videoPlayer = ref(null);\r\n    const stream = ref(null);\r\n    const fileInput = ref(null);\r\n\r\n    const fullStarPath = \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27z\";\r\n    const emptyStarPath = \"M22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\";\r\n\r\n    watch(() => props.review, (newReview) => {\r\n      if (newReview) {\r\n        editableReview.value = JSON.parse(JSON.stringify(newReview));\r\n        if (!editableReview.value.tags) {\r\n          editableReview.value.tags = [];\r\n        }\r\n        photoDataUrl.value = null;\r\n        photoRemoved.value = false;\r\n      }\r\n    }, { immediate: true, deep: true });\r\n\r\n    onMounted(async () => {\r\n      const tagsQuery = query(collection(db, 'tags'), orderBy('name'));\r\n      const tagsSnapshot = await getDocs(tagsQuery);\r\n      allTags.value = tagsSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n    });\r\n\r\n    const getStarPath = (starIndex) => {\r\n      const displayRating = hoverRating.value || (editableReview.value ? editableReview.value.rating : 0);\r\n      return displayRating >= starIndex ? fullStarPath : emptyStarPath;\r\n    };\r\n\r\n    const toggleTag = (tagName) => {\r\n      if (!editableReview.value) return;\r\n      const tags = editableReview.value.tags;\r\n      const index = tags.indexOf(tagName);\r\n      if (index > -1) {\r\n        tags.splice(index, 1);\r\n      } else {\r\n        tags.push(tagName);\r\n      }\r\n    };\r\n\r\n    const onSave = () => {\r\n      emit('save', {\r\n        reviewData: editableReview.value,\r\n        newPhotoDataUrl: photoDataUrl.value,\r\n        photoRemoved: photoRemoved.value\r\n      });\r\n    };\r\n\r\n    const openCamera = async () => {\r\n      isCameraOpen.value = true;\r\n      await nextTick();\r\n      try {\r\n        stream.value = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } });\r\n        if (videoPlayer.value) {\r\n          videoPlayer.value.srcObject = stream.value;\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error accessing camera: \", err);\r\n        isCameraOpen.value = false;\r\n      }\r\n    };\r\n\r\n    const closeCamera = () => {\r\n      if (stream.value) {\r\n        stream.value.getTracks().forEach(track => track.stop());\r\n      }\r\n      isCameraOpen.value = false;\r\n    };\r\n\r\n    const capturePhoto = () => {\r\n      const canvas = document.createElement('canvas');\r\n      const video = videoPlayer.value;\r\n      const MAX_WIDTH = 1280;\r\n      const MAX_HEIGHT = 1280;\r\n      let width = video.videoWidth;\r\n      let height = video.videoHeight;\r\n\r\n      if (width > height) {\r\n        if (width > MAX_WIDTH) {\r\n          height *= MAX_WIDTH / width;\r\n          width = MAX_WIDTH;\r\n        }\r\n      } else {\r\n        if (height > MAX_HEIGHT) {\r\n          width *= MAX_HEIGHT / height;\r\n          height = MAX_HEIGHT;\r\n        }\r\n      }\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      const context = canvas.getContext('2d');\r\n      context.drawImage(video, 0, 0, width, height);\r\n      photoDataUrl.value = canvas.toDataURL('image/jpeg', 0.8);\r\n      photoRemoved.value = false;\r\n      closeCamera();\r\n    };\r\n\r\n    const removePhoto = () => {\r\n      photoDataUrl.value = null;\r\n      if (editableReview.value) {\r\n        editableReview.value.photoURL = null;\r\n      }\r\n      photoRemoved.value = true;\r\n    };\r\n\r\n    const triggerFileUpload = () => {\r\n      fileInput.value.click();\r\n    };\r\n\r\n    const handleFileUpload = (event) => {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          photoDataUrl.value = e.target.result;\r\n          photoRemoved.value = false;\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    };\r\n\r\n    return {\r\n      editableReview,\r\n      hoverRating,\r\n      allTags,\r\n      getStarPath,\r\n      toggleTag,\r\n      onSave,\r\n      isCameraOpen,\r\n      photoDataUrl,\r\n      videoPlayer,\r\n      openCamera,\r\n      closeCamera,\r\n      capturePhoto,\r\n      removePhoto,\r\n      fileInput,\r\n      triggerFileUpload,\r\n      handleFileUpload\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: var(--card-background);\r\n  padding: 2em;\r\n  border-radius: 12px;\r\n  box-shadow: 0 5px 20px rgba(0,0,0,0.2);\r\n  width: 90%;\r\n  max-width: 600px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 1.5em;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 0.5em;\r\n  font-weight: 600;\r\n}\r\n\r\n.form-group textarea {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  border: 1px solid #ddd;\r\n  box-sizing: border-box;\r\n  font-family: inherit;\r\n  font-size: 1em;\r\n}\r\n\r\n.star-rating-input {\r\n  display: flex;\r\n  gap: 0.5em;\r\n}\r\n\r\n.star {\r\n  cursor: pointer;\r\n  color: #ccc;\r\n  transition: color 0.2s;\r\n}\r\n\r\n.star:hover,\r\n.star:hover ~ .star {\r\n  color: #ccc;\r\n}\r\n\r\n.star-rating-input:hover .star {\r\n  color: #f39c12;\r\n}\r\n\r\n.photo-actions {\r\n  display: flex;\r\n  gap: 1em;\r\n}\r\n\r\n.photo-actions .btn-secondary {\r\n  background-color: #ecf0f1;\r\n  color: var(--secondary-color);\r\n  border: 1px solid #bdc3c7;\r\n  padding: 10px 15px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 0.5em;\r\n}\r\n\r\n.photo-preview {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.photo-preview img {\r\n  max-width: 200px;\r\n  max-height: 200px;\r\n  border-radius: 8px;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.btn-remove-photo {\r\n  position: absolute;\r\n  top: -10px;\r\n  right: -10px;\r\n  background-color: #e74c3c;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 28px;\r\n  height: 28px;\r\n  font-size: 1.2em;\r\n  line-height: 1;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.camera-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.9);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1001;\r\n}\r\n\r\n.camera-video {\r\n  width: 100%;\r\n  max-width: 800px;\r\n  height: auto;\r\n}\r\n\r\n.btn-capture, .btn-cancel-camera {\r\n  margin-top: 1em;\r\n  padding: 12px 24px;\r\n  border-radius: 8px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-capture { background-color: var(--primary-color); color: white; }\r\n.btn-cancel-camera { background-color: #e74c3c; color: white; margin-left: 1em; }\r\n\r\n.tags-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5em;\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.tag-btn {\r\n  background-color: #ecf0f1;\r\n  color: var(--secondary-color);\r\n  border: 1px solid #bdc3c7;\r\n  padding: 6px 12px;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.tag-btn.selected {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border-color: var(--primary-color);\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1em;\r\n  margin-top: 2em;\r\n}\r\n\r\n.btn-cancel, .btn-save {\r\n  padding: 10px 20px;\r\n  border-radius: 8px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n}\r\n\r\n.btn-cancel {\r\n  background-color: #ecf0f1;\r\n  color: var(--secondary-color);\r\n}\r\n\r\n.btn-save {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n}\r\n</style>","import { render } from \"./EditReviewModal.vue?vue&type=template&id=6a28d33e&scoped=true\"\nimport script from \"./EditReviewModal.vue?vue&type=script&lang=js\"\nexport * from \"./EditReviewModal.vue?vue&type=script&lang=js\"\n\nimport \"./EditReviewModal.vue?vue&type=style&index=0&id=6a28d33e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6a28d33e\"]])\n\nexport default __exports__","import { render } from \"./MyReviews.vue?vue&type=template&id=a39a1f60&scoped=true\"\nimport script from \"./MyReviews.vue?vue&type=script&lang=js\"\nexport * from \"./MyReviews.vue?vue&type=script&lang=js\"\n\nimport \"./MyReviews.vue?vue&type=style&index=0&id=a39a1f60&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a39a1f60\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"leaderboard-page\">\r\n    <div class=\"page-header\">\r\n      <h2>Leaderboard</h2>\r\n      <p>Top 10 reviewers</p>\r\n    </div>\r\n    <div v-if=\"loading\" class=\"loading-indicator\">Loading leaderboard...</div>\r\n    <div v-else-if=\"users.length === 0\" class=\"no-users-message\">\r\n      <p>No users to display on the leaderboard yet.</p>\r\n    </div>\r\n    <ol v-else class=\"leaderboard-list\">\r\n      <li v-for=\"(user, index) in users\" :key=\"user.uid\" class=\"leaderboard-item\" :class=\"getRankClass(index)\">\r\n        <div class=\"rank-container\">\r\n          <span class=\"rank\">{{ index + 1 }}</span>\r\n          <span v-if=\"getMedal(index)\" class=\"medal\">{{ getMedal(index) }}</span>\r\n        </div>\r\n        <img :src=\"user.photoURL || 'https://cdn-icons-png.flaticon.com/512/149/149071.png'\" alt=\"User\" class=\"user-avatar\" referrerpolicy=\"no-referrer\" />\r\n        <div class=\"user-info\">\r\n          <span class=\"user-name\">{{ user.displayName }}</span>\r\n          <span class=\"review-count\">{{ user.reviewCount || 0 }} reviews</span>\r\n        </div>\r\n      </li>\r\n    </ol>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\nimport { db } from '../firebase';\r\nimport { collection, query, orderBy, limit, onSnapshot } from 'firebase/firestore';\r\n\r\nexport default {\r\n  name: 'Leaderboard',\r\n  setup() {\r\n    const loading = ref(true);\r\n    const users = ref([]);\r\n    let unsubscribe = () => {};\r\n\r\n    onMounted(() => {\r\n      try {\r\n        const usersQuery = query(\r\n          collection(db, 'users'),\r\n          orderBy('reviewCount', 'desc'),\r\n          limit(10)\r\n        );\r\n        \r\n        unsubscribe = onSnapshot(usersQuery, (querySnapshot) => {\r\n          users.value = querySnapshot.docs.map(doc => doc.data());\r\n          loading.value = false;\r\n        }, (error) => {\r\n          console.error(\"Error fetching leaderboard:\", error);\r\n          loading.value = false;\r\n        });\r\n\r\n      } catch (error) {\r\n        console.error(\"Error setting up leaderboard listener:\", error);\r\n        loading.value = false;\r\n      }\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      unsubscribe();\r\n    });\r\n\r\n    const getMedal = (index) => {\r\n      if (index === 0) return '';\r\n      if (index === 1) return '';\r\n      if (index === 2) return '';\r\n      if (index >= 3 && index < 10 ) return '';\r\n      return null;\r\n    };\r\n\r\n    const getRankClass = (index) => {\r\n      if (index === 0) return 'rank-gold';\r\n      if (index === 1) return 'rank-silver';\r\n      if (index === 2) return 'rank-bronze';\r\n      if (index >= 3 && index < 10) return 'rank-regular';\r\n      return '';\r\n    };\r\n\r\n    return {\r\n      loading,\r\n      users,\r\n      getMedal,\r\n      getRankClass\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.leaderboard-page { max-width: 800px; margin: 0 auto; }\r\n.page-header { text-align: center; margin-bottom: 2em; }\r\n.page-header h2 { margin-bottom: 0.2em; }\r\n.page-header p { color: #777; margin-top: 0; }\r\n.loading-indicator, .no-users-message { text-align: center; color: #777; padding: 3em; }\r\n.leaderboard-list { list-style: none; padding: 0; }\r\n.leaderboard-item {\r\n  display: flex;\r\n  align-items: center;\r\n  background: var(--card-background);\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 15px var(--shadow-color);\r\n  margin-bottom: 1em;\r\n  padding: 1em 1.5em;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n.leaderboard-item:hover {\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 6px 20px rgba(0,0,0,0.12);\r\n}\r\n.rank-container {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 1.5em;\r\n  font-weight: 700;\r\n  color: var(--secondary-color);\r\n  margin-right: 1.5em;\r\n  width: 60px;\r\n  justify-content: center;\r\n}\r\n.medal { font-size: 1.2em; margin-left: 0.3em; }\r\n.rank-gold { border-left: 5px solid #ffd700; }\r\n.rank-silver { border-left: 5px solid #c0c0c0; }\r\n.rank-bronze { border-left: 5px solid #cd7f32; }\r\n.user-avatar {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  margin-right: 1em;\r\n  object-fit: cover;\r\n}\r\n.user-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n}\r\n.user-name {\r\n  font-weight: 600;\r\n  font-size: 1.1em;\r\n}\r\n.review-count {\r\n  color: #777;\r\n  font-size: 0.9em;\r\n}\r\n</style>","import { render } from \"./Leaderboard.vue?vue&type=template&id=3b1a9780&scoped=true\"\nimport script from \"./Leaderboard.vue?vue&type=script&lang=js\"\nexport * from \"./Leaderboard.vue?vue&type=script&lang=js\"\n\nimport \"./Leaderboard.vue?vue&type=style&index=0&id=3b1a9780&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b1a9780\"]])\n\nexport default __exports__","<template>\r\n  <UserReviewsModal v-if=\"isReviewsModalVisible\" :user=\"userForReviews\" @close=\"closeReviewsModal\" />\r\n  <div class=\"followers-page\">\r\n    <div v-if=\"loading\" class=\"loading-indicator\">Loading followers...</div>\r\n    <div v-else>\r\n      <div v-if=\"followers.length === 0\" class=\"no-followers-message\">\r\n        <span>No one is following you yet.</span>\r\n      </div>\r\n      <div v-for=\"user in followers\" :key=\"user.uid\" class=\"user-card\">\r\n        <div class=\"user-card-content\">\r\n          <div class=\"user-info\">\r\n            <img :src=\"user.photoURL || 'https://cdn-icons-png.flaticon.com/512/149/149071.png'\" class=\"user-avatar\" alt=\"User\" referrerpolicy=\"no-referrer\" />\r\n            <div>\r\n              <span class=\"user-name\">{{ user.displayName }}</span>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"user.lastReview\" class=\"last-review\">\r\n            <div class=\"review-header\">\r\n              Latest review: <strong>{{ user.lastReview.restaurantName }}</strong>\r\n            </div>\r\n            <div class=\"review-body\">\r\n              <StarRating :rating=\"user.lastReview.rating\" />\r\n              <p v-if=\"user.lastReview.text\" class=\"review-text\">\"{{ user.lastReview.text }}\"</p>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"last-review no-review\">\r\n            No reviews yet.\r\n          </div>\r\n        </div>\r\n        <div class=\"user-actions\">\r\n          <button @click=\"openReviewsModal(user)\" class=\"action-btn\" title=\"View Reviews\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"/></svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport { db, auth } from '../firebase';\r\nimport { collection, query, where, getDocs, orderBy, limit } from 'firebase/firestore';\r\nimport UserReviewsModal from './UserReviewsModal.vue';\r\nimport StarRating from './StarRating.vue';\r\n\r\nexport default {\r\n  name: 'Followers',\r\n  components: { UserReviewsModal, StarRating },\r\n  setup() {\r\n    const followers = ref([]);\r\n    const loading = ref(true);\r\n    const isReviewsModalVisible = ref(false);\r\n    const userForReviews = ref(null);\r\n\r\n    const fetchFollowers = async () => {\r\n      loading.value = true;\r\n      const currentUser = auth.currentUser;\r\n      if (!currentUser) {\r\n        loading.value = false;\r\n        return;\r\n      }\r\n\r\n      const followsQuery = query(collection(db, 'follows'), where('followingId', '==', currentUser.uid));\r\n      const followsSnap = await getDocs(followsQuery);\r\n      const followerIds = followsSnap.docs.map(doc => doc.data().followerId);\r\n\r\n      if (followerIds.length === 0) {\r\n        followers.value = [];\r\n        loading.value = false;\r\n        return;\r\n      }\r\n      \r\n      const restaurantsSnap = await getDocs(collection(db, 'restaurants'));\r\n      const restaurantsMap = new Map();\r\n      restaurantsSnap.forEach(doc => {\r\n        restaurantsMap.set(doc.id, doc.data().name);\r\n      });\r\n\r\n      const usersData = [];\r\n      for (let i = 0; i < followerIds.length; i += 30) {\r\n        const batchIds = followerIds.slice(i, i + 30);\r\n        if (batchIds.length > 0) {\r\n            const usersQuery = query(collection(db, 'users'), where('uid', 'in', batchIds));\r\n            const usersSnap = await getDocs(usersQuery);\r\n            usersSnap.forEach(doc => {\r\n                usersData.push({ uid: doc.id, ...doc.data() });\r\n            });\r\n        }\r\n      }\r\n\r\n      const followersWithDetails = await Promise.all(\r\n        usersData.map(async user => {\r\n          const reviewQuery = query(\r\n            collection(db, 'reviews'),\r\n            where('userId', '==', user.uid),\r\n            orderBy('createdAt', 'desc'),\r\n            limit(1)\r\n          );\r\n          const reviewSnap = await getDocs(reviewQuery);\r\n          let lastReview = null;\r\n          if (!reviewSnap.empty) {\r\n            const reviewData = reviewSnap.docs[0].data();\r\n            lastReview = {\r\n              ...reviewData,\r\n              restaurantName: restaurantsMap.get(reviewData.restaurantId) || 'Unknown Restaurant'\r\n            };\r\n          }\r\n          return { ...user, lastReview };\r\n        })\r\n      );\r\n\r\n      followers.value = followersWithDetails;\r\n      loading.value = false;\r\n    };\r\n\r\n    onMounted(fetchFollowers);\r\n\r\n    const openReviewsModal = (user) => {\r\n      userForReviews.value = user;\r\n      isReviewsModalVisible.value = true;\r\n    };\r\n\r\n    const closeReviewsModal = () => {\r\n      isReviewsModalVisible.value = false;\r\n      userForReviews.value = null;\r\n    };\r\n\r\n    return { followers, loading, isReviewsModalVisible, userForReviews, openReviewsModal, closeReviewsModal };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.followers-page { max-width: 800px; margin: 0 auto; }\r\n.loading-indicator, .no-followers-message { text-align: center; color: #777; padding: 2em; }\r\n.user-card { display: flex; align-items: center; justify-content: space-between; background: var(--card-background); padding: 1.5em; border-radius: 12px; box-shadow: 0 4px 15px var(--shadow-color); margin-bottom: 1.5em; gap: 1.5em; }\r\n.user-card-content { flex-grow: 1; }\r\n.user-info { display: flex; align-items: center; gap: 1em; }\r\n.user-avatar { width: 60px; height: 60px; border-radius: 50%; }\r\n.user-name { font-weight: 600; font-size: 1.1em; }\r\n.user-actions .action-btn { background: none; border: 1px solid #ccc; border-radius: 8px; padding: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; color: #555; }\r\n.user-actions .action-btn:hover { background-color: #f0f0f0; border-color: #bbb; }\r\n.last-review { margin-top: 1em; padding-top: 1em; border-top: 1px solid #eee; font-size: 0.9em; }\r\n.review-header { margin-bottom: 0.5em; color: #555; }\r\n.review-body .star-rating { margin-bottom: 0.5em; }\r\n.review-text {\r\n  margin: 0.5em 0 0;\r\n  font-style: italic;\r\n  color: #333;\r\n  word-break: break-word;\r\n}\r\n.no-review { color: #888; font-style: italic; }\r\n\r\n@media (max-width: 768px) {\r\n  .user-card {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n  .user-actions {\r\n    margin-top: 1em;\r\n    align-self: stretch;\r\n  }\r\n  .user-actions .action-btn {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>","import { render } from \"./Followers.vue?vue&type=template&id=37e2860a&scoped=true\"\nimport script from \"./Followers.vue?vue&type=script&lang=js\"\nexport * from \"./Followers.vue?vue&type=script&lang=js\"\n\nimport \"./Followers.vue?vue&type=style&index=0&id=37e2860a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-37e2860a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"bucket-list-page\">\r\n    <div class=\"page-header\">\r\n      <div class=\"view-toggle\">\r\n        <button @click=\"showCompleted = false\" :class=\"{ active: !showCompleted }\">To Try</button>\r\n        <button @click=\"showCompleted = true\" :class=\"{ active: showCompleted }\">Completed</button>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"loading\" class=\"loading-indicator\">Loading your bucket list...</div>\r\n    <div v-else-if=\"filteredItems.length === 0\" class=\"no-items-message\">\r\n      <p v-if=\"!showCompleted\">Your bucket list is empty. Add some restaurants to try!</p>\r\n      <p v-else>You haven't completed any bucket list items yet.</p>\r\n    </div>\r\n    <div v-else class=\"restaurant-list\">\r\n      <div v-for=\"item in filteredItems\" :key=\"item.id\" class=\"restaurant-item\">\r\n        <!-- Restaurant details, similar to Restaurants.vue -->\r\n        <div class=\"restaurant-details\">\r\n            <span class=\"restaurant-name\">{{ item.restaurant.name }}</span>\r\n            <div class=\"restaurant-meta\">\r\n              <div v-if=\"item.restaurant.averageRating > 0\" class=\"rating\" :title=\"`${item.restaurant.averageRating.toFixed(2)} average rating`\">\r\n                <StarRating :rating=\"item.restaurant.averageRating\" />\r\n                <span class=\"rating-text\">{{ item.restaurant.averageRating.toFixed(1) }}</span>\r\n                <span class=\"rating-count\">({{ item.restaurant.ratingCount }})</span>\r\n              </div>\r\n              <span v-if=\"item.restaurant.distance !== null\" class=\"distance\">{{ item.restaurant.distance.toFixed(1) }} miles away </span>\r\n            </div>\r\n            <span class=\"restaurant-address\">\r\n              {{ item.restaurant.address }}<template v-if=\"item.restaurant.city\">, {{ item.restaurant.city }}</template><template v-if=\"item.restaurant.state\">, {{ item.restaurant.state }}</template><template v-if=\"item.restaurant.zip\"> {{ item.restaurant.zip }}</template>\r\n            </span>\r\n        </div>\r\n        <div class=\"restaurant-actions\">\r\n            <!-- Actions -->\r\n            <button @click=\"removeFromBucketList(item.id)\" class=\"action-btn delete-btn\">Remove</button>\r\n            <button class=\"check-in-btn\" @click=\"$emit('review-at', item.restaurantId)\">Review</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, onUnmounted, computed } from 'vue';\r\nimport { db, auth } from '../firebase';\r\nimport { collection, query, where, getDocs, onSnapshot, doc, deleteDoc, documentId } from 'firebase/firestore';\r\nimport StarRating from './StarRating.vue';\r\nimport { getDistance } from '../utils/geolocation.js';\r\n\r\nexport default {\r\n  name: 'BucketList',\r\n  components: { StarRating },\r\n  emits: ['review-at'],\r\n  setup() {\r\n    const bucketListItems = ref([]);\r\n    const loading = ref(true);\r\n    const showCompleted = ref(false);\r\n    const userLocation = ref(null);\r\n    let unsubscribe = () => {};\r\n\r\n    const fetchBucketList = () => {\r\n      const currentUser = auth.currentUser;\r\n      if (!currentUser) {\r\n        loading.value = false;\r\n        return;\r\n      }\r\n\r\n      const q = query(collection(db, 'bucketListItems'), where('userId', '==', currentUser.uid));\r\n      \r\n      unsubscribe = onSnapshot(q, async (snapshot) => {\r\n        loading.value = true;\r\n        const items = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n        \r\n        if (items.length === 0) {\r\n          bucketListItems.value = [];\r\n          loading.value = false;\r\n          return;\r\n        }\r\n\r\n        const restaurantIds = [...new Set(items.map(item => item.restaurantId))];\r\n        const restaurantsMap = new Map();\r\n        \r\n        if (restaurantIds.length > 0) {\r\n            // Batch fetch restaurants\r\n            for (let i = 0; i < restaurantIds.length; i += 30) {\r\n              const batchIds = restaurantIds.slice(i, i + 30);\r\n              const restaurantsQuery = query(collection(db, 'restaurants'), where(documentId(), 'in', batchIds));\r\n              const restaurantsSnapshot = await getDocs(restaurantsQuery);\r\n              restaurantsSnapshot.forEach(doc => restaurantsMap.set(doc.id, { id: doc.id, ...doc.data() }));\r\n            }\r\n\r\n            // Batch fetch review counts and ratings\r\n            const reviewsQuery = query(collection(db, 'reviews'), where('restaurantId', 'in', restaurantIds));\r\n            const reviewsSnapshot = await getDocs(reviewsQuery);\r\n            const ratings = {};\r\n            reviewsSnapshot.forEach(doc => {\r\n              const review = doc.data();\r\n              if (review.restaurantId && typeof review.rating === 'number') {\r\n                if (!ratings[review.restaurantId]) {\r\n                  ratings[review.restaurantId] = { total: 0, count: 0 };\r\n                }\r\n                ratings[review.restaurantId].total += review.rating;\r\n                ratings[review.restaurantId].count++;\r\n              }\r\n            });\r\n\r\n            bucketListItems.value = items.map(item => {\r\n              const restaurant = restaurantsMap.get(item.restaurantId);\r\n              if (!restaurant) return null;\r\n\r\n              const ratingInfo = ratings[restaurant.id];\r\n              restaurant.averageRating = ratingInfo ? ratingInfo.total / ratingInfo.count : 0;\r\n              restaurant.ratingCount = ratingInfo ? ratingInfo.count : 0;\r\n              restaurant.distance = userLocation.value && restaurant.location ? getDistance(userLocation.value.lat, userLocation.value.lng, restaurant.location.lat, restaurant.location.lng) : null;\r\n\r\n              return { ...item, restaurant };\r\n            }).filter(Boolean);\r\n        } else {\r\n            bucketListItems.value = [];\r\n        }\r\n\r\n        loading.value = false;\r\n      });\r\n    };\r\n\r\n    onMounted(() => {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n          userLocation.value = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          };\r\n          fetchBucketList();\r\n        }, (error) => {\r\n          console.error(\"Error getting location for bucket list\", error);\r\n          fetchBucketList();\r\n        });\r\n      } else {\r\n        fetchBucketList();\r\n      }\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      unsubscribe();\r\n    });\r\n\r\n    const filteredItems = computed(() => {\r\n      const filtered = bucketListItems.value.filter(item => {\r\n        return showCompleted.value ? !!item.completedAt : !item.completedAt;\r\n      });\r\n      return filtered.sort((a, b) => {\r\n        if (a.restaurant.distance === null) return 1;\r\n        if (b.restaurant.distance === null) return -1;\r\n        return a.restaurant.distance - b.restaurant.distance;\r\n      });\r\n    });\r\n\r\n    const removeFromBucketList = async (itemId) => {\r\n      if (confirm('Are you sure you want to remove this from your bucket list?')) {\r\n        await deleteDoc(doc(db, 'bucketListItems', itemId));\r\n      }\r\n    };\r\n\r\n    const getDirectionsUrl = (restaurant) => {\r\n      const destination = encodeURIComponent(`${restaurant.name}, ${restaurant.address}`);\r\n      return `https://www.google.com/maps/dir/?api=1&destination=${destination}`;\r\n    };\r\n\r\n    const getDetailsUrl = (restaurant) => {\r\n      const query = encodeURIComponent(`${restaurant.name}, ${restaurant.address}`);\r\n      return `https://www.google.com/search?q=${query}`;\r\n    };\r\n\r\n    return {\r\n      loading,\r\n      showCompleted,\r\n      filteredItems,\r\n      removeFromBucketList,\r\n      getDirectionsUrl,\r\n      getDetailsUrl,\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* styles for BucketList.vue */\r\n.bucket-list-page {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 2em;\r\n}\r\n.view-toggle button {\r\n  background: none;\r\n  border: 1px solid #ccc;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n}\r\n.view-toggle button.active {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border-color: var(--primary-color);\r\n}\r\n.view-toggle button:first-child {\r\n  border-top-left-radius: 8px;\r\n  border-bottom-left-radius: 8px;\r\n}\r\n.view-toggle button:last-child {\r\n  border-top-right-radius: 8px;\r\n  border-bottom-right-radius: 8px;\r\n  border-left: none;\r\n}\r\n.loading-indicator, .no-items-message {\r\n  text-align: center;\r\n  color: #777;\r\n  padding: 3em;\r\n}\r\n.restaurant-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n.restaurant-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1.5em;\r\n  background: var(--card-background);\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 15px var(--shadow-color);\r\n  margin-bottom: 1.5em;\r\n}\r\n.restaurant-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.restaurant-name {\r\n  font-weight: 600;\r\n  font-size: 1.2em;\r\n  margin-bottom: 0.25em;\r\n}\r\n.restaurant-meta {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 1em;\r\n  margin-bottom: 0.5em;\r\n  color: #555;\r\n  font-size: 0.9em;\r\n}\r\n.rating {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.25em;\r\n}\r\n.rating-text {\r\n  font-weight: bold;\r\n  margin-left: 0.25em;\r\n}\r\n.rating-count {\r\n  color: #777;\r\n}\r\n.distance {\r\n  font-style: italic;\r\n}\r\n.restaurant-address {\r\n  color: #777;\r\n  font-size: 0.9em;\r\n}\r\n.restaurant-actions {\r\n  display: flex;\r\n  gap: 0.75em;\r\n}\r\n.action-btn, .check-in-btn {\r\n  background: none;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.2s;\r\n  color: #555;\r\n}\r\n.action-btn:hover {\r\n  background-color: #f0f0f0;\r\n  border-color: #bbb;\r\n}\r\n.delete-btn {\r\n  color: #e74c3c;\r\n  border-color: #e74c3c;\r\n}\r\n.delete-btn:hover {\r\n  background-color: #e74c3c;\r\n  color: white;\r\n}\r\n.check-in-btn {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border-color: var(--primary-color);\r\n  padding: 8px 16px;\r\n  font-weight: 600;\r\n}\r\n.check-in-btn:hover {\r\n  background-color: var(--primary-dark-color);\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .restaurant-item {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 1em;\r\n  }\r\n  .restaurant-actions {\r\n    width: 100%;\r\n    flex-wrap: wrap;\r\n    gap: 0.5em;\r\n  }\r\n  .restaurant-actions .action-btn,\r\n  .restaurant-actions .check-in-btn {\r\n    flex-grow: 1;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>","import { render } from \"./BucketList.vue?vue&type=template&id=0d9a2091&scoped=true\"\nimport script from \"./BucketList.vue?vue&type=script&lang=js\"\nexport * from \"./BucketList.vue?vue&type=script&lang=js\"\n\nimport \"./BucketList.vue?vue&type=style&index=0&id=0d9a2091&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0d9a2091\"]])\n\nexport default __exports__","<template>\r\n  <UserReviewsModal v-if=\"isReviewsModalVisible\" :user=\"userForReviews\" @close=\"closeReviewsModal\" />\r\n  <div class=\"following-page\">\r\n    <div v-if=\"loading\" class=\"loading-indicator\">Loading users you follow...</div>\r\n    <div v-else>\r\n      <div v-if=\"following.length === 0\" class=\"no-users-message\">\r\n        <span>You are not following anyone yet.</span>\r\n      </div>\r\n      <div v-for=\"user in following\" :key=\"user.uid\" class=\"user-card\">\r\n        <div class=\"user-card-content\">\r\n          <div class=\"user-info\">\r\n            <img :src=\"user.photoURL || 'https://cdn-icons-png.flaticon.com/512/149/149071.png'\" class=\"user-avatar\" alt=\"User\" referrerpolicy=\"no-referrer\" />\r\n            <div class=\"user-details\">\r\n              <span class=\"user-name\">{{ user.displayName }}</span>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"user.lastReview\" class=\"last-review\">\r\n            <div class=\"review-header\">\r\n              Latest review: <strong>{{ user.lastReview.restaurantName }}</strong>\r\n            </div>\r\n            <div class=\"review-body\">\r\n              <StarRating :rating=\"user.lastReview.rating\" />\r\n              <p v-if=\"user.lastReview.text\" class=\"review-text\">\"{{ user.lastReview.text }}\"</p>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"last-review no-review\">\r\n            No reviews yet.\r\n          </div>\r\n        </div>\r\n        <div class=\"user-actions\">\r\n          <button @click=\"openReviewsModal(user)\" class=\"action-btn\" title=\"View Reviews\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"/></svg>\r\n          </button>\r\n          <button @click=\"unfollowUser(user)\" class=\"unfollow-btn\">Unfollow</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\nimport { db, auth } from '../firebase';\r\nimport { collection, query, where, getDocs, doc, deleteDoc, orderBy, limit, onSnapshot } from 'firebase/firestore';\r\nimport StarRating from './StarRating.vue';\r\nimport UserReviewsModal from './UserReviewsModal.vue';\r\n\r\nexport default {\r\n  name: 'Following',\r\n  components: { StarRating, UserReviewsModal },\r\n  setup() {\r\n    const following = ref([]);\r\n    const loading = ref(true);\r\n    const isReviewsModalVisible = ref(false);\r\n    const userForReviews = ref(null);\r\n    let unsubscribe = () => {};\r\n\r\n    const fetchFollowing = async () => {\r\n      loading.value = true;\r\n      const currentUser = auth.currentUser;\r\n      if (!currentUser) {\r\n        loading.value = false;\r\n        return;\r\n      }\r\n\r\n      const followsQuery = query(collection(db, 'follows'), where('followerId', '==', currentUser.uid));      \r\n      unsubscribe = onSnapshot(followsQuery, async (followsSnap) => {\r\n        const followingIds = followsSnap.docs.map(doc => doc.data().followingId);\r\n\r\n      if (followingIds.length === 0) {\r\n        following.value = [];\r\n        loading.value = false;\r\n        return;\r\n      }\r\n\r\n      const restaurantsSnap = await getDocs(collection(db, 'restaurants'));\r\n      const restaurantsMap = new Map();\r\n      restaurantsSnap.forEach(doc => {\r\n        restaurantsMap.set(doc.id, doc.data().name);\r\n      });\r\n\r\n      const usersData = [];\r\n      // Firestore 'in' query supports a maximum of 30 elements in the array.\r\n      for (let i = 0; i < followingIds.length; i += 30) {\r\n        const batchIds = followingIds.slice(i, i + 30);\r\n        if (batchIds.length > 0) {\r\n            const usersQuery = query(collection(db, 'users'), where('uid', 'in', batchIds));\r\n            const usersSnap = await getDocs(usersQuery);\r\n            usersSnap.forEach(doc => {\r\n                usersData.push({ uid: doc.id, ...doc.data() });\r\n            });\r\n        }\r\n      }\r\n\r\n      const followingWithDetails = await Promise.all(\r\n        usersData.map(async user => {\r\n          const reviewQuery = query(\r\n            collection(db, 'reviews'),\r\n            where('userId', '==', user.uid),\r\n            orderBy('createdAt', 'desc'),\r\n            limit(1)\r\n          );\r\n          const reviewSnap = await getDocs(reviewQuery);\r\n          let lastReview = null;\r\n          if (!reviewSnap.empty) {\r\n            const reviewData = reviewSnap.docs[0].data();\r\n            lastReview = {\r\n              ...reviewData,\r\n              restaurantName: restaurantsMap.get(reviewData.restaurantId) || 'Unknown Restaurant'\r\n            };\r\n          }\r\n          return { ...user, lastReview };\r\n        })\r\n      );\r\n\r\n      following.value = followingWithDetails;\r\n      loading.value = false;\r\n      });\r\n    };\r\n\r\n    onMounted(fetchFollowing);\r\n    onUnmounted(() => unsubscribe());\r\n\r\n    const unfollowUser = async (userToUnfollow) => {\r\n      const currentUser = auth.currentUser;\r\n      if (!currentUser || !window.confirm(`Are you sure you want to unfollow ${userToUnfollow.displayName}?`)) return;\r\n\r\n      try {\r\n        const q = query(collection(db, 'follows'), where('followerId', '==', currentUser.uid), where('followingId', '==', userToUnfollow.uid));\r\n        const querySnapshot = await getDocs(q);\r\n        if (!querySnapshot.empty) {\r\n          const docId = querySnapshot.docs[0].id;\r\n          await deleteDoc(doc(db, 'follows', docId));\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error unfollowing user:\", error);\r\n        alert(\"Failed to unfollow user. Please try again.\");\r\n      }\r\n    };\r\n\r\n    const openReviewsModal = (user) => {\r\n      userForReviews.value = user;\r\n      isReviewsModalVisible.value = true;\r\n    };\r\n\r\n    const closeReviewsModal = () => {\r\n      isReviewsModalVisible.value = false;\r\n      userForReviews.value = null;\r\n    };\r\n\r\n    return { following, loading, unfollowUser, isReviewsModalVisible, userForReviews, openReviewsModal, closeReviewsModal };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.following-page { max-width: 800px; margin: 0 auto; }\r\n.loading-indicator, .no-users-message { text-align: center; color: #777; padding: 2em; }\r\n.user-card { display: flex; align-items: center; justify-content: space-between; background: var(--card-background); padding: 1.5em; border-radius: 12px; box-shadow: 0 4px 15px var(--shadow-color); margin-bottom: 1.5em; gap: 1.5em; }\r\n.user-card-content { flex-grow: 1; min-width: 0; }\r\n.user-info { display: flex; align-items: center; gap: 1em; min-width: 0; }\r\n.user-details { min-width: 0; }\r\n.user-avatar { width: 60px; height: 60px; border-radius: 50%; flex-shrink: 0; }\r\n.user-name { font-weight: 600; font-size: 1.1em; word-break: break-word; }\r\n.user-actions { display: flex; gap: 0.75em; }\r\n.user-actions .action-btn { background: none; border: 1px solid #ccc; border-radius: 8px; padding: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; color: #555; }\r\n.user-actions .action-btn:hover { background-color: #f0f0f0; border-color: #bbb; }\r\n.user-actions button.unfollow-btn { background-color: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: background-color 0.2s; }\r\n.user-actions button.unfollow-btn:hover { opacity: 0.9; }\r\n.last-review { margin-top: 1em; padding-top: 1em; border-top: 1px solid #eee; font-size: 0.9em; }\r\n.review-header { margin-bottom: 0.5em; color: #555; word-break: break-word; }\r\n.review-body .star-rating { margin-bottom: 0.5em; }\r\n.review-text {\r\n  margin: 0.5em 0 0;\r\n  font-style: italic;\r\n  color: #333;\r\n  word-break: break-word;\r\n}\r\n.no-review { color: #888; font-style: italic; }\r\n\r\n@media (max-width: 768px) {\r\n  .user-card { flex-direction: column; align-items: stretch; }\r\n  .user-actions { margin-top: 1em; }\r\n  .user-actions button { flex-grow: 1; justify-content: center; }\r\n}\r\n</style>","import { render } from \"./Following.vue?vue&type=template&id=1cf2c834&scoped=true\"\nimport script from \"./Following.vue?vue&type=script&lang=js\"\nexport * from \"./Following.vue?vue&type=script&lang=js\"\n\nimport \"./Following.vue?vue&type=style&index=0&id=1cf2c834&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1cf2c834\"]])\n\nexport default __exports__","// Script to seed Firestore with sample data for Porko app\nimport { db } from './firebase';\nimport { collection, addDoc } from 'firebase/firestore';\n\nexport async function seedSampleData() {\n  // Sample restaurants\n  const restaurants = [\n    { name: \"The Chocolate Moose\", address: \"101 N Main St\", city: \"Farmland\", state: \"IN\", zip: \"47340\", url: \"\", location: { lat: 40.1878913, lng: -85.1279397 }, description: \"\", photoURL: \"\" },\n    { name: \"Smitty's Bar & Grill\", address: \"125 Mall St\", city: \"Leonore\", state: \"IL\", zip: \"61332\", url: \"\", location: { lat: 41.1887214, lng: -88.9804186 }, description: \"\", photoURL: \"\" },\n    { name: \"The Wooden Spoon Diner\", address: \"5120 S Dale Mabry Hwy\", city: \"Tampa\", state: \"FL\", zip: \"33611\", url: \"\", location: { lat: 27.9255773, lng: -82.2708432 }, description: \"\", photoURL: \"\" },\n    { name: \"Mutts On 13th\", address: \"1517 13th St\", city: \"St Cloud\", state: \"FL\", zip: \"34769\", url: \"\", location: { lat: 28.2457148, lng: -81.2865585 }, description: \"\", photoURL: \"\" },\n    { name: \"The Cup Diner\", address: \"1418 13th St\", city: \"St Cloud\", state: \"FL\", zip: \"34769\", url: \"\", location: { lat: 28.2456404, lng: -81.2851104 }, description: \"\", photoURL: \"\" },\n    { name: \"Edinburgh Diner\", address: \"221 E Main Cross St\", city: \"Edinburgh\", state: \"IN\", zip: \"46124\", url: \"\", location: { lat: 39.3514394, lng: -85.9715215 }, description: \"\", photoURL: \"\" },\n    { name: \"Moon Glo Bar & Grill\", address: \"1204 E Main St\", city: \"Westville\", state: \"IL\", zip: \"61883\", url: \"\", location: { lat: 40.1041169, lng: -87.5640457 }, description: \"\", photoURL: \"\" },\n    { name: \"One Eyed Jack's\", address: \"108 N Monticello St\", city: \"Winamac\", state: \"IN\", zip: \"46996\", url: \"\", location: { lat: 41.0517368, lng: -86.6043211 }, description: \"\", photoURL: \"\" },\n    { name: \"ACME by Full Circle\", address: \"1105 E State Blvd\", city: \"Fort Wayne\", state: \"IN\", zip: \"46805\", url: \"\", location: { lat: 41.096893, lng: -85.1248578 }, description: \"\", photoURL: \"\" },\n    { name: \"Bufords\", address: \"201 E North St\", city: \"Cisco\", state: \"IL\", zip: \"61830\", url: \"\", location: { lat: 39.9665963, lng: -88.3455253 }, description: \"\", photoURL: \"\" },\n    { name: \"The Dirty Bird - Sycamore\", address: \"160 W Lincoln Hwy\", city: \"Sycamore\", state: \"IL\", zip: \"60178\", url: \"\", location: { lat: 41.9878971, lng: -88.6858541 }, description: \"\", photoURL: \"\" },\n    { name: \"Bernadotte Cafe & bar\", address: \"2390 IL-95\", city: \"Ipava\", state: \"IL\", zip: \"61441\", url: \"\", location: { lat: 40.4021405, lng: -90.3215325 }, description: \"\", photoURL: \"\" },\n    { name: \"Diesel Tap House\", address: \"2669 Buford Hwy NE\", city: \"Buford\", state: \"GA\", zip: \"30518\", url: \"\", location: { lat: 34.1237945, lng: -83.9849624 }, description: \"\", photoURL: \"\" },\n    { name: \"Chubbies Pub And Grub\", address: \"1201 S Huntington St\", city: \"Syracuse\", state: \"IN\", zip: \"46567\", url: \"\", location: { lat: 41.407773, lng: -85.7464621 }, description: \"\", photoURL: \"\" },\n    { name: \"Rustic Cafe\", address: \"101 W 2nd St\", city: \"Delphos\", state: \"OH\", zip: \"45833\", url: \"\", location: { lat: 40.8435363, lng: -84.339261 }, description: \"\", photoURL: \"\" },\n    { name: \"Sheridan's Walton Tap Inc\", address: \"101 Main St\", city: \"Walton\", state: \"IL\", zip: \"61376\", url: \"\", location: { lat: 41.7153329, lng: -89.4387486 }, description: \"\", photoURL: \"\" },\n    { name: \"The Tin Plate, Fine Food & Spirits\", address: \"211 S Anderson St\", city: \"Elwood\", state: \"IN\", zip: \"46036\", url: \"\", location: { lat: 40.2675543, lng: -85.8312155 }, description: \"\", photoURL: \"\" },\n    { name: \"Nick's Kitchen\", address: \"506 N Jefferson St\", city: \"Huntington\", state: \"IN\", zip: \"46750\", url: \"\", location: { lat: 40.8827217, lng: -85.4959158 }, description: \"\", photoURL: \"\" },\n    { name: \"Route No. 73 Brew & Chew\", address: \"111 S Main St\", city: \"Pearl City\", state: \"IL\", zip: \"61062\", url: \"\", location: { lat: 42.2652713, lng: -89.8258878 }, description: \"\", photoURL: \"\" },\n    { name: \"St Philips Inn\", address: \"11200 Upper Mt Vernon Rd\", city: \"Evansville\", state: \"IN\", zip: \"47712\", url: \"\", location: { lat: 37.9930135, lng: -87.7137676 }, description: \"\", photoURL: \"\" },\n    { name: \"Miller's Tavern\", address: \"230 E Main St\", city: \"North Vernon\", state: \"IN\", zip: \"47265\", url: \"\", location: { lat: 39.0053468, lng: -85.6248876 }, description: \"\", photoURL: \"\" },\n    { name: \"Pudgee's Eatery and Market\", address: \"105 S Main St\", city: \"Wildwood\", state: \"FL\", zip: \"34785\", url: \"\", location: { lat: 28.7728958, lng: -82.2946701 }, description: \"\", photoURL: \"\" },\n    { name: \"Dooley O'Toole's\", address: \"160 E Carmel Dr\", city: \"Carmel\", state: \"IN\", zip: \"46032\", url: \"\", location: { lat: 39.9618023, lng: -86.1241367 }, description: \"\", photoURL: \"\" },\n    { name: \"Mac's Diner\", address: \"109 W Main St\", city: \"Litchfield\", state: \"IL\", zip: \"62056\", url: \"\", location: { lat: 39.2554588, lng: -89.3470077 }, description: \"\", photoURL: \"\" },\n    { name: \"Motor Inn Travel Plaza\", address: \"1800 E Lincoln Hwy\", city: \"Wapakoneta\", state: \"OH\", zip: \"45895\", url: \"\", location: { lat: 40.6522766, lng: -84.5810121 }, description: \"\", photoURL: \"\" },\n    { name: \"Pilgrim Family Restaurant\", address: \"1505 W Main Cross St\", city: \"Findlay\", state: \"OH\", zip: \"45840\", url: \"\", location: { lat: 41.0418201, lng: -83.6752141 }, description: \"\", photoURL: \"\" },\n    { name: \"Benny's Off the Water\", address: \"11331 E Daugherty Ln\", city: \"Milltown\", state: \"IN\", zip: \"47145\", url: \"\", location: { lat: 38.3792719, lng: -86.6433131 }, description: \"\", photoURL: \"\" },\n    { name: \"Steve's Place\", address: \"2110 Cleveland Ave\", city: \"Fort Myers\", state: \"FL\", zip: \"33901\", url: \"\", location: { lat: 26.6902724, lng: -81.862471 }, description: \"\", photoURL: \"\" },\n    { name: \"Storie's Restaurant\", address: \"109 E Main St\", city: \"Greensburg\", state: \"IN\", zip: \"47240\", url: \"\", location: { lat: 39.3364564, lng: -85.4837691 }, description: \"\", photoURL: \"\" },\n    { name: \"Klooz Brewz, Brewery & Public House\", address: \"125 N Main St\", city: \"Lebanon\", state: \"IN\", zip: \"46052\", url: \"\", location: { lat: 40.048319, lng: -86.4677371 }, description: \"\", photoURL: \"\" },\n    { name: \"Brothers Family Restaurant\", address: \"2400 16th St\", city: \"Moline\", state: \"IL\", zip: \"61265\", url: \"\", location: { lat: 41.5790331, lng: -90.35113 }, description: \"\", photoURL: \"\" },\n    { name: \"The Grill\", address: \"101 W Main St\", city: \"Greenfield\", state: \"IN\", zip: \"46140\", url: \"\", location: { lat: 39.8902869, lng: -85.9301673 }, description: \"\", photoURL: \"\" },\n    { name: \"Westwoods Lodge Pub & Grill\", address: \"2406 W Jefferson St\", city: \"Springfield\", state: \"IL\", zip: \"62702\", url: \"\", location: { lat: 39.8129372, lng: -89.6964892 }, description: \"\", photoURL: \"\" },\n    { name: \"The 318 Restaurant\", address: \"318 N Main St\", city: \"Farmer City\", state: \"IL\", zip: \"61842\", url: \"\", location: { lat: 41.1212189, lng: -88.8320081 }, description: \"\", photoURL: \"\" },\n    { name: \"Park Restaurant\", address: \"20 S Park Ave\", city: \"New Castle\", state: \"IN\", zip: \"47362\", url: \"\", location: { lat: 39.9165274, lng: -85.384495 }, description: \"\", photoURL: \"\" },\n    { name: \"Crossroads Family Restaurant\", address: \"7230 US-52\", city: \"West Harrison\", state: \"IN\", zip: \"47060\", url: \"\", location: { lat: 39.07, lng: -85.2605556 }, description: \"\", photoURL: \"\" },\n    { name: \"John's Famous Stew\", address: \"1146 Kentucky Ave\", city: \"Indianapolis\", state: \"IN\", zip: \"46221\", url: \"\", location: { lat: 39.7526208, lng: -86.177867 }, description: \"\", photoURL: \"\" },\n    { name: \"Uncle Vait's Pizza\", address: \"101 N Main St\", city: \"Forrest\", state: \"IL\", zip: \"61741\", url: \"\", location: { lat: 40.6416779, lng: -88.7911391 }, description: \"\", photoURL: \"\" },\n    { name: \"Palomino Club\", address: \"489 IL-48\", city: \"Taylorville\", state: \"IL\", zip: \"62568\", url: \"\", location: { lat: 39.5601053, lng: -89.2977649 }, description: \"\", photoURL: \"\" },\n    { name: \"Oaken Barrel Brewing Company\", address: \"50 N Airport Pkwy\", city: \"Greenwood\", state: \"IN\", zip: \"46143\", url: \"\", location: { lat: 39.6156667, lng: -86.0906583 }, description: \"\", photoURL: \"\" },\n    { name: \"Lee'z Place Bar & Grill\", address: \"120 W Main St\", city: \"Sheridan\", state: \"IL\", zip: \"60551\", url: \"\", location: { lat: 41.6306918, lng: -88.6536323 }, description: \"\", photoURL: \"\" },\n    { name: \"Warsaw Brewery LLC\", address: \"100 N Main St\", city: \"Warsaw\", state: \"IL\", zip: \"62379\", url: \"\", location: { lat: 40.3661155, lng: -91.4303207 }, description: \"\", photoURL: \"\" },\n    { name: \"POUR HOUSE BAR & GRILL\", address: \"101 E Main St\", city: \"Lowell\", state: \"IN\", zip: \"46356\", url: \"\", location: { lat: 41.1448683, lng: -87.2751526 }, description: \"\", photoURL: \"\" },\n    { name: \"Spoonies Bar & Grill\", address: \"101 N Main St\", city: \"London Mills\", state: \"IL\", zip: \"61544\", url: \"\", location: { lat: 40.7125342, lng: -90.2665742 }, description: \"\", photoURL: \"\" },\n    { name: \"Ashers Bar & Grill\", address: \"101 N Main St\", city: \"East Peoria\", state: \"IL\", zip: \"61611\", url: \"\", location: { lat: 40.5697057, lng: -89.6472241 }, description: \"\", photoURL: \"\" },\n    { name: \"B&K Root Beer\", address: \"501 N Jefferson St\", city: \"Huntington\", state: \"IN\", zip: \"46750\", url: \"\", location: { lat: 40.8718, lng: -85.4848 }, description: \"\", photoURL: \"\" },\n    { name: \"Chubby's Restaurant\", address: \"4470 E Parkway\", city: \"Gatlinburg\", state: \"TN\", zip: \"37738\", url: \"\", location: { lat: 35.8640001, lng: -83.5173536 }, description: \"\", photoURL: \"\" },\n    { name: \"Hwy 441 Diner\", address: \"101 US-441\", city: \"Tavares\", state: \"FL\", zip: \"32778\", url: \"\", location: { lat: 28.8177313, lng: -81.7258853 }, description: \"\", photoURL: \"\" },\n    { name: \"Spanky's Food & Spirits\", address: \"101 E Main St\", city: \"Mattoon\", state: \"IL\", zip: \"61938\", url: \"\", location: { lat: 39.4744133, lng: -88.3790938 }, description: \"\", photoURL: \"\" },\n    { name: \"Woody's Diner\", address: \"101 N Main St\", city: \"Ada\", state: \"OH\", zip: \"45810\", url: \"\", location: { lat: 40.469305, lng: -83.864927 }, description: \"\", photoURL: \"\" },\n    { name: \"The Pavillion\", address: \"101 N Main St\", city: \"Carrollton\", state: \"IL\", zip: \"62016\", url: \"\", location: { lat: 39.2969779, lng: -90.6085052 }, description: \"\", photoURL: \"\" },\n    { name: \"Beamer's Drive In\", address: \"101 N Michigan St\", city: \"Plymouth\", state: \"IN\", zip: \"46563\", url: \"\", location: { lat: 41.2455957, lng: -86.2488534 }, description: \"\", photoURL: \"\" },\n    { name: \"Bonge's Tavern\", address: \"9830 W 280 N\", city: \"Perkinsville\", state: \"IN\", zip: \"46011\", url: \"\", location: { lat: 40.1439002, lng: -85.8592702 }, description: \"\", photoURL: \"\" },\n    { name: \"Millie's Chill & Grill\", address: \"101 N Main St\", city: \"Le Roy\", state: \"IL\", zip: \"61752\", url: \"\", location: { lat: 40.3468917, lng: -88.7631083 }, description: \"\", photoURL: \"\" },\n    { name: \"Pub 15\", address: \"101 E Main St\", city: \"Bedford\", state: \"IN\", zip: \"47421\", url: \"\", location: { lat: 38.8623495, lng: -86.483406 }, description: \"\", photoURL: \"\" },\n    { name: \"Ale Emporium\", address: \"8617 E 116th St\", city: \"Fishers\", state: \"IN\", zip: \"46038\", url: \"\", location: { lat: 39.6357849, lng: -86.0847304 }, description: \"\", photoURL: \"\" },\n    { name: \"Vinny's Drive Bar\", address: \"5515 W 10th St\", city: \"Indianapolis\", state: \"IN\", zip: \"46224\", url: \"\", location: { lat: 39.7760762, lng: -86.2499069 }, description: \"\", photoURL: \"\" },\n    { name: \"Edon Dairy Treat\", address: \"101 W Indiana St\", city: \"Edon\", state: \"OH\", zip: \"43518\", url: \"\", location: { lat: 41.5556052, lng: -84.769398 }, description: \"\", photoURL: \"\" },\n    { name: \"The Warehouse\", address: \"101 N Main St\", city: \"Glasford\", state: \"IL\", zip: \"61533\", url: \"\", location: { lat: 40.692562, lng: -89.79551 }, description: \"\", photoURL: \"\" },\n    { name: \"TS18\", address: \"101 N Main St\", city: \"Alexis\", state: \"IL\", zip: \"61412\", url: \"\", location: { lat: 40.9348577, lng: -90.9564871 }, description: \"\", photoURL: \"\" },\n    { name: \"101 Beer Kitchen\", address: \"9708 District N Dr\", city: \"Fishers\", state: \"IN\", zip: \"46037\", url: \"\", location: { lat: 39.9630004, lng: -86.1272315 }, description: \"\", photoURL: \"\" },\n    { name: \"Upland Carmel Tap House\", address: \"820 E 116th St\", city: \"Carmel\", state: \"IN\", zip: \"46032\", url: \"\", location: { lat: 39.956704, lng: -86.142971 }, description: \"\", photoURL: \"\" },\n    { name: \"Charcoal House Tavern\", address: \"101 N Main St\", city: \"Jerseyville\", state: \"IL\", zip: \"62052\", url: \"\", location: { lat: 39.1159484, lng: -90.3378871 }, description: \"\", photoURL: \"\" },\n    { name: \"Old Richmond Inn\", address: \"138 S 5th St\", city: \"Richmond\", state: \"IN\", zip: \"47374\", url: \"\", location: { lat: 39.8262198, lng: -84.8957573 }, description: \"\", photoURL: \"\" },\n    { name: \"The End Zone Sports Bar & Grill\", address: \"2408 N 4th St\", city: \"Lafayette\", state: \"IN\", zip: \"47904\", url: \"\", location: { lat: 40.3676036, lng: -86.8675601 }, description: \"\", photoURL: \"\" },\n    { name: \"Clinch River Brewing\", address: \"2045 Norris Fwy\", city: \"Norris\", state: \"TN\", zip: \"37828\", url: \"\", location: { lat: 36.2156441, lng: -84.0761352 }, description: \"\", photoURL: \"\" },\n    { name: \"Kilroy's Bar & Grill\", address: \"201 S Meridian St\", city: \"Indianapolis\", state: \"IN\", zip: \"46225\", url: \"\", location: { lat: 39.7640751, lng: -86.1580203 }, description: \"\", photoURL: \"\" },\n    { name: \"Cozy Corner Restaurant\", address: \"101 N Main St\", city: \"Farmer City\", state: \"IL\", zip: \"61842\", url: \"\", location: { lat: 41.1212478, lng: -88.8263441 }, description: \"\", photoURL: \"\" },\n    { name: \"Pejza's Lydick Patio\", address: \"26444 US-20\", city: \"South Bend\", state: \"IN\", zip: \"46628\", url: \"\", location: { lat: 41.6936159, lng: -86.3791797 }, description: \"\", photoURL: \"\" },\n    { name: \"Green Street Pub and Eatery\", address: \"911 N Green St\", city: \"Brownsburg\", state: \"IN\", zip: \"46112\", url: \"\", location: { lat: 39.8551354, lng: -86.3905701 }, description: \"\", photoURL: \"\" },\n    { name: \"Coal Miner's Cafe\", address: \"101 N Main St\", city: \"Ladd\", state: \"IL\", zip: \"61329\", url: \"\", location: { lat: 41.2648639, lng: -89.2500956 }, description: \"\", photoURL: \"\" },\n    { name: \"Taxman Fortville\", address: \"29 S Main St\", city: \"Fortville\", state: \"IN\", zip: \"46040\", url: \"\", location: { lat: 39.9335792, lng: -85.849132 }, description: \"\", photoURL: \"\" },\n    { name: \"Ziggie's Pub and Eatery\", address: \"101 E Main St\", city: \"Columbus\", state: \"IN\", zip: \"47201\", url: \"\", location: { lat: 39.2294262, lng: -85.8989943 }, description: \"\", photoURL: \"\" },\n    { name: \"Brickyard Bar & Grill\", address: \"101 N Main St\", city: \"Abingdon\", state: \"IL\", zip: \"61410\", url: \"\", location: { lat: 40.9474013, lng: -90.3101405 }, description: \"\", photoURL: \"\" },\n    { name: \"The Breezeway Restaurant & Bar\", address: \"112 E 1st St\", city: \"Sanford\", state: \"FL\", zip: \"32771\", url: \"\", location: { lat: 28.8120179, lng: -81.2674339 }, description: \"\", photoURL: \"\" },\n    { name: \"Midway Bar and Grill\", address: \"101 N Main St\", city: \"Morrisonville\", state: \"IL\", zip: \"62546\", url: \"\", location: { lat: 39.351435, lng: -89.5368671 }, description: \"\", photoURL: \"\" },\n    { name: \"Grindstone Charley's\", address: \"101 N Main St\", city: \"Kokomo\", state: \"IN\", zip: \"46901\", url: \"\", location: { lat: 40.4413687, lng: -86.1264795 }, description: \"\", photoURL: \"\" },\n    { name: \"rudy's restaurant\", address: \"101 N Main St\", city: \"Macomb\", state: \"IL\", zip: \"61455\", url: \"\", location: { lat: 40.2299838, lng: -90.9507491 }, description: \"\", photoURL: \"\" },\n    { name: \"Amazing Joe's Grill\", address: \"909 N Wheeling Ave\", city: \"Muncie\", state: \"IN\", zip: \"47303\", url: \"\", location: { lat: 40.2014959, lng: -85.3928802 }, description: \"\", photoURL: \"\" },\n    { name: \"Get It-N-Go\", address: \"101 N Main St\", city: \"Vincennes\", state: \"IN\", zip: \"47591\", url: \"\", location: { lat: 38.667684, lng: -87.5228811 }, description: \"\", photoURL: \"\" },\n    { name: \"Route 66 Motorheads Bar and Grill\", address: \"600 Toronto Rd\", city: \"Springfield\", state: \"IL\", zip: \"62711\", url: \"\", location: { lat: 39.7129834, lng: -89.6474113 }, description: \"\", photoURL: \"\" },\n    { name: \"C.R. Heroes\", address: \"10570 E 96th St\", city: \"Fishers\", state: \"IN\", zip: \"46037\", url: \"\", location: { lat: 39.9281489, lng: -85.9828434 }, description: \"\", photoURL: \"\" },\n    { name: \"Plump's Last Shot\", address: \"6416 Cornell Ave\", city: \"Indianapolis\", state: \"IN\", zip: \"46220\", url: \"\", location: { lat: 39.8731604, lng: -86.1427212 }, description: \"\", photoURL: \"\" },\n    { name: \"Sunoco Gas Station\", address: \"101 N Main St\", city: \"Crawfordsville\", state: \"IN\", zip: \"47933\", url: \"\", location: { lat: 40.0740639, lng: -86.9064353 }, description: \"\", photoURL: \"\" },\n    { name: \"Hy-Vee Grocery Store\", address: \"1403 N Veterans Pkwy\", city: \"Bloomington\", state: \"IL\", zip: \"61704\", url: \"\", location: { lat: 40.4975074, lng: -88.9498779 }, description: \"\", photoURL: \"\" },\n    { name: \"5th Ave. Grill and Bar\", address: \"7811 E 38th St\", city: \"Indianapolis\", state: \"IN\", zip: \"46226\", url: \"\", location: { lat: 39.7214534, lng: -86.0870901 }, description: \"\", photoURL: \"\" },\n    { name: \"Fire & Ale\", address: \"2521 N Dirksen Pkwy\", city: \"Springfield\", state: \"IL\", zip: \"62702\", url: \"\", location: { lat: 39.8989313, lng: -89.602574 }, description: \"\", photoURL: \"\" },\n    { name: \"Brickhouse Grill & Pub\", address: \"2 W Old State Capitol Plaza\", city: \"Springfield\", state: \"IL\", zip: \"62701\", url: \"\", location: { lat: 39.7704966, lng: -89.7134519 }, description: \"\", photoURL: \"\" },\n    { name: \"Union Station Cafe\", address: \"101 N Main St\", city: \"Linton\", state: \"IN\", zip: \"47441\", url: \"\", location: { lat: 39.0688256, lng: -87.2598312 }, description: \"\", photoURL: \"\" },\n    { name: \"Wolfies Grill - Noblesville\", address: \"137 W Jackson St\", city: \"Noblesville\", state: \"IN\", zip: \"46060\", url: \"\", location: { lat: 40.09337, lng: -86.033878 }, description: \"\", photoURL: \"\" },\n    { name: \"Frost Bite\", address: \"5530 W 10th St\", city: \"Indianapolis\", state: \"IN\", zip: \"46224\", url: \"\", location: { lat: 39.761425, lng: -86.3992234 }, description: \"\", photoURL: \"\" },\n    { name: \"Artists Colony Inn & Restaurant\", address: \"105 S Van Buren St\", city: \"Nashville\", state: \"IN\", zip: \"47448\", url: \"\", location: { lat: 39.2059036, lng: -86.2465464 }, description: \"\", photoURL: \"\" },\n    { name: \"Erika's Place\", address: \"102 S Union St\", city: \"Westfield\", state: \"IN\", zip: \"46074\", url: \"\", location: { lat: 40.0468522, lng: -86.01525 }, description: \"\", photoURL: \"\" },\n    { name: \"Burnt Bridge Tavern\", address: \"101 N Main St\", city: \"Conover\", state: \"WI\", zip: \"54519\", url: \"\", location: { lat: 46.0409008, lng: -89.3332199 }, description: \"\", photoURL: \"\" },\n    { name: \"Brew Brothers\", address: \"101 N Main St\", city: \"Shelbyville\", state: \"IN\", zip: \"46176\", url: \"\", location: { lat: 39.5892831, lng: -85.8249454 }, description: \"\", photoURL: \"\" },\n    { name: \"Schneider's Pub\", address: \"101 N Main St\", city: \"Indianapolis\", state: \"IN\", zip: \"46227\", url: \"\", location: { lat: 39.6507001, lng: -86.1570132 }, description: \"\", photoURL: \"\" },\n    { name: \"Barn Bites Food Truck\", address: \"101 N Main St\", city: \"Columbia\", state: \"SC\", zip: \"29201\", url: \"\", location: { lat: 34.0188277, lng: -81.0416959 }, description: \"\", photoURL: \"\" },\n    { name: \"The BillBoard Bistro\", address: \"101 N Main St\", city: \"Peoria\", state: \"IL\", zip: \"61602\", url: \"\", location: { lat: 40.6478199, lng: -89.6501383 }, description: \"\", photoURL: \"\" },\n    { name: \"Star 34 Cafe\", address: \"101 N Main St\", city: \"Earlville\", state: \"IL\", zip: \"60518\", url: \"\", location: { lat: 41.6437872, lng: -88.626736 }, description: \"\", photoURL: \"\" },\n    { name: \"Dutchman's Diner\", address: \"101 N Main St\", city: \"Odon\", state: \"IN\", zip: \"47562\", url: \"\", location: { lat: 38.785942, lng: -86.9973526 }, description: \"\", photoURL: \"\" },\n    { name: \"Lilly's Super subs\", address: \"101 N Main St\", city: \"Leesburg\", state: \"FL\", zip: \"34748\", url: \"\", location: { lat: 28.8206323, lng: -81.7737903 }, description: \"\", photoURL: \"\" },\n    { name: \"Rusty's Raw Bar & Grill - Estero\", address: \"20041 S Tamiami Trail\", city: \"Estero\", state: \"FL\", zip: \"33928\", url: \"\", location: { lat: 26.4482963, lng: -81.8163087 }, description: \"\", photoURL: \"\" },\n    { name: \"Milkeys Place\", address: \"101 N Main St\", city: \"Pittsfield\", state: \"IL\", zip: \"62363\", url: \"\", location: { lat: 39.6946024, lng: -91.0411068 }, description: \"\", photoURL: \"\" },\n    { name: \"Tried & True Alehouse\", address: \"2800 S State Rd 135\", city: \"Greenwood\", state: \"IN\", zip: \"46143\", url: \"\", location: { lat: 39.5768141, lng: -86.16056 }, description: \"\", photoURL: \"\" },\n    { name: \"Jonesy's Junction\", address: \"101 N Main St\", city: \"North Manchester\", state: \"IN\", zip: \"46962\", url: \"\", location: { lat: 41.0377576, lng: -86.0183211 }, description: \"\", photoURL: \"\" },\n    { name: \"Golden Basket Breakfast Club\", address: \"101 N Main St\", city: \"Downers Grove\", state: \"IL\", zip: \"60515\", url: \"\", location: { lat: 41.7971662, lng: -87.9752232 }, description: \"\", photoURL: \"\" },\n    { name: \"Blue's Cafe\", address: \"101 N Main St\", city: \"Watseka\", state: \"IL\", zip: \"60970\", url: \"\", location: { lat: 41.1184544, lng: -87.8814518 }, description: \"\", photoURL: \"\" },\n    { name: \"Crossroads 46 Diner\", address: \"4600 W State Road 46\", city: \"Spencer\", state: \"IN\", zip: \"47460\", url: \"\", location: { lat: 39.2872021, lng: -86.7696225 }, description: \"\", photoURL: \"\" },\n    { name: \"Restaurant Edelweiss\", address: \"611 Manatee Ave E\", city: \"Bradenton\", state: \"FL\", zip: \"34208\", url: \"\", location: { lat: 27.4955656, lng: -82.5570352 }, description: \"\", photoURL: \"\" },\n    { name: \"Kirby Foods Deli Counter\", address: \"101 N Main St\", city: \"Washington\", state: \"IL\", zip: \"61571\", url: \"\", location: { lat: 40.7899109, lng: -89.3699824 }, description: \"\", photoURL: \"\" },\n    { name: \"Black Dog Pub\", address: \"4910 N Clinton St\", city: \"Fort Wayne\", state: \"IN\", zip: \"46825\", url: \"\", location: { lat: 41.059358, lng: -85.221755 }, description: \"\", photoURL: \"\" },\n    { name: \"Hall's Tavern at Coventry\", address: \"5745 Coventry Ln\", city: \"Fort Wayne\", state: \"IN\", zip: \"46804\", url: \"\", location: { lat: 41.0336769, lng: -85.256286 }, description: \"\", photoURL: \"\" },\n    { name: \"Opie's Bar & Grill\", address: \"101 N Main St\", city: \"Galesburg\", state: \"IL\", zip: \"61401\", url: \"\", location: { lat: 40.9491977, lng: -90.3714336 }, description: \"\", photoURL: \"\" },\n    { name: \"Seasons Gastropub\", address: \"101 N Main St\", city: \"Morton\", state: \"IL\", zip: \"61550\", url: \"\", location: { lat: 40.6100171, lng: -89.462774 }, description: \"\", photoURL: \"\" },\n    { name: \"Missy's Corner Cafe\", address: \"101 N Main St\", city: \"Pekin\", state: \"IL\", zip: \"61554\", url: \"\", location: { lat: 40.5586245, lng: -89.6156359 }, description: \"\", photoURL: \"\" },\n    { name: \"Sunshine Caf\", address: \"101 N Main St\", city: \"Seymour\", state: \"IN\", zip: \"47274\", url: \"\", location: { lat: 38.958975, lng: -85.84018 }, description: \"\", photoURL: \"\" },\n    { name: \"Aristocrat Pub & Oxford Room\", address: \"5212 N College Ave\", city: \"Indianapolis\", state: \"IN\", zip: \"46220\", url: \"\", location: { lat: 39.8472823, lng: -86.1460157 }, description: \"\", photoURL: \"\" },\n    { name: \"Barbecue and Bourbon\", address: \"1414 N Main St\", city: \"Speedway\", state: \"IN\", zip: \"46224\", url: \"\", location: { lat: 39.7855103, lng: -86.2413919 }, description: \"\", photoURL: \"\" },\n    { name: \"Charlie Parker's Diner\", address: \"700 W North St\", city: \"Springfield\", state: \"IL\", zip: \"62704\", url: \"\", location: { lat: 39.7660325, lng: -89.6635417 }, description: \"\", photoURL: \"\" }\n  ];\n  for (const restaurant of restaurants) {\n    await addDoc(collection(db, 'restaurants'), restaurant);\n  }\n\n  alert('Sample data seeded!');\n}\n","import { render } from \"./App.vue?vue&type=template&id=591fb122\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=591fb122&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.');\n      // Dispatch a custom event to notify the app.\n      document.dispatchEvent(\n        new CustomEvent('swUpdated', { detail: registration })\n      );\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport './registerServiceWorker';\r\n\r\ncreateApp(App).mount('#app');","// We will use OpenStreetMap's Nominatim API for geocoding.\r\n// It's a free service and doesn't require an API key.\r\n// See usage policy: https://operations.osmfoundation.org/policies/nominatim/\r\n// It's recommended to provide a valid email in the request for contact purposes.\r\nconst YOUR_EMAIL_FOR_NOMINATIM = 'kennected.com@gmail.com';\r\n\r\n/**\r\n * Geocodes an address string into latitude and longitude using Nominatim.\r\n * @param {string} address The address to geocode.\r\n * @returns {Promise<{lat: number, lng: number}|null>} A promise that resolves to the location or null.\r\n */\r\nexport async function geocodeAddress(address) {\r\n  if (!address || !address.trim()) {\r\n    console.error('Geocoding error: Address is empty.');\r\n    return null;\r\n  }\r\n\r\n  const url = `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(address)}&format=json&limit=1&email=${YOUR_EMAIL_FOR_NOMINATIM}`;\r\n\r\n  try {\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n\r\n    if (data && data.length > 0) {\r\n      const { lat, lon } = data[0];\r\n      // Nominatim returns 'lon', but the app uses 'lng'.\r\n      return { lat: parseFloat(lat), lng: parseFloat(lon) };\r\n    }\r\n    return null;\r\n  } catch (error) {\r\n    console.error('Error during geocoding fetch:', error);\r\n    return null;\r\n  }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_vue_app\"] = self[\"webpackChunkmy_vue_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(653)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","_createElementBlock","_hoisted_1","$setup","user","_normalizeClass","isSidebarCollapsed","_createElementVNode","_hoisted_3","_hoisted_4","onClick","_cache","args","toggleSidebar","title","xmlns","height","viewBox","width","fill","d","_hoisted_5","src","photoURL","alt","referrerpolicy","_hoisted_7","_toDisplayString","displayName","_hoisted_8","currentPage","goToHome","goToLeaderboard","goToReview","goToRestaurants","goToRecommendations","goToUserSearch","goToBucketList","goToMyReviews","goToFollowers","goToFollowing","cx","cy","r","_hoisted_9","isAdmin","goToDatabaseStats","logout","_hoisted_10","_createBlock","_resolveDynamicComponent","currentComponent","onReviewed","onCheckInAt","reviewAt","onReviewAt","onGoToReview","selectedRestaurantForReview","_hoisted_2","loginWithGoogle","updateExists","_hoisted_11","refreshApp","ref","locationPermission","requestLocationAccess","loading","_hoisted_6","posts","length","_Fragment","_renderList","post","key","userPhoto","_hoisted_12","userName","medal","_hoisted_13","_hoisted_14","createdAt","toDate","toLocaleString","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","restaurantName","$event","toggleBucketList","isInBucketList","restaurantId","distance","_hoisted_20","toFixed","_hoisted_21","_createVNode","_component_StarRating","rating","text","_hoisted_22","tags","_hoisted_24","tag","_component_Comments","userId","_hoisted_25","loadingMore","_hoisted_26","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","auth","getAuth","provider","GoogleAuthProvider","db","getFirestore","getStorage","comments","comment","formatDate","editingCommentId","canEdit","startEditing","canDelete","deleteComment","editingText","onKeyup","_withKeys","saveEdit","cancelEdit","newComment","placeholder","addComment","disabled","trim","name","props","postId","type","String","required","postType","postAuthorId","setup","unsubscribe","onMounted","commentsCollection","collection","commentsQuery","query","orderBy","onSnapshot","async","commentData","snapshot","docs","map","doc","data","userIds","Set","c","usersMap","Map","i","batchIds","slice","usersQuery","where","documentId","usersSnapshot","getDocs","forEach","set","value","get","onUnmounted","currentUser","now","serverTimestamp","reviewDocRef","Promise","all","addDoc","uid","updateDoc","lastActivityAt","commentDoc","confirm","commentId","deleteDoc","timestamp","__exports__","n","getStarPath","Number","default","fullStarPath","halfStarPath","emptyStarPath","starIndex","getDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","atan2","sqrt","components","StarRating","Comments","userLocation","loadMoreTrigger","allPosts","fullSortedPosts","pageSize","observer","unsubscribes","bucketList","leaderboardRanks","unsub","disconnect","IntersectionObserver","entries","isIntersecting","loadMorePosts","checkLocationPermission","watch","newValue","oldValue","unobserve","observe","setupFeedListeners","clear","bucketListQuery","unsubBucketList","newBucketList","add","push","followsSnap","restaurantsSnap","usersSnap","restaurantsMap","processAndSetPosts","rank","getMedal","Array","from","values","sort","b","timeA","timeB","seconds","leaderboardQuery","limit","unsubLeaderboard","leaderboardSnap","newRanks","index","processSnapshot","docChanges","change","delete","docData","restaurant","location","lat","lng","followingIds","followingId","includes","q","error","console","nearbyRestaurantIds","setTimeout","currentLength","nextPosts","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","timeout","permissions","permissionStatus","state","onchange","has","isEditModalVisible","_component_EditRestaurantModal","restaurantToEdit","onClose","closeEditModal","onSave","saveRestaurantChanges","isReviewsModalVisible","_component_RestaurantReviewsModal","restaurantForReviews","closeReviewsModal","searchQuery","showAddForm","onSubmit","_withModifiers","addNewRestaurant","for","newRestaurant","address","city","zip","url","addError","isSaving","filteredRestaurants","averageRating","ratingCount","_hoisted_23","openReviewsModal","openEditModal","href","getDirectionsUrl","target","rel","getDetailsUrl","getValidUrl","_ctx","$emit","_hoisted_31","_hoisted_32","editableRestaurant","Object","emits","emit","newVal","JSON","parse","stringify","immediate","deep","$props","reviews","review","fetchReviewsForRestaurant","log","reviewsQuery","reviewsSnapshot","size","reviewData","userPromises","userSnapshots","userData","toLocaleDateString","EditRestaurantModal","RestaurantReviewsModal","restaurants","bucketListUnsubscribe","fetchRestaurantsAndRatings","restaurantsSnapshot","ratings","total","count","ratingInfo","subscribeToBucketList","restaurantsWithDistance","computed","lowerCaseQuery","toLowerCase","filter","destination","encodeURIComponent","startsWith","updatedRestaurant","updatedData","original","dataToSave","nameChanged","name_lowercase","addressParts","addressChanged","some","part","address_lowercase","fullAddress","Boolean","join","geocodeAddress","alert","keys","restaurantRef","findIndex","newLocalData","undefined","splice","normalizedName","normalizedAddress","querySnapshot","empty","docRef","newRest","_component_UserReviewsModal","userForReviews","filteredUsers","lastReview","_hoisted_19","toggleFollow","isFollowing","fetchReviews","newUser","UserReviewsModal","users","following","followsUnsubscribe","fetchUsers","followsQuery","newFollowing","u","allUsers","usersWithDetails","reviewQuery","reviewSnap","pos","sorted","followsRef","docId","followerId","autoplay","playsinline","submitReview","selectedRestaurant","selectedRestaurantId","showAddRestaurantForm","saveNewRestaurant","isSavingRestaurant","addRestaurantError","photoDataUrl","removePhoto","openCamera","triggerFileUpload","onChange","handleFileUpload","accept","style","isCameraOpen","capturePhoto","closeCamera","star","onMouseover","hoverRating","onMouseleave","_hoisted_27","_hoisted_28","selected","selectedTags","toggleTag","_hoisted_29","_hoisted_30","newTag","onKeydown","addNewTag","_hoisted_33","rows","submitting","_hoisted_34","errorMessage","_hoisted_35","videoPlayer","stream","fileInput","fetchTags","tagsQuery","tagsSnapshot","getUserLocation","resolve","selectClosestRestaurant","closestRestaurant","minDistance","Infinity","fetchInitialData","restaurantSnap","getDoc","exists","restaurantsQuery","displayRating","tagName","indexOf","t","newDocRef","newTagObject","localeCompare","addedRestaurant","nextTick","mediaDevices","getUserMedia","video","facingMode","srcObject","err","getTracks","track","stop","canvas","document","createElement","MAX_WIDTH","MAX_HEIGHT","videoWidth","videoHeight","context","getContext","drawImage","toDataURL","click","event","file","files","reader","FileReader","onload","e","result","readAsDataURL","storage","filePath","Date","photoRef","storageRef","uploadResult","uploadString","getDownloadURL","bucketListSnapshot","bucketListItemDoc","completedAt","reviewCount","fetchRecommendations","allRestaurantsSnapshot","allRestaurants","nearbyRestaurants","sixMonthsAgo","setMonth","getMonth","sixMonthsAgoTimestamp","Timestamp","fromDate","recentReviews","recommendations","relevantReviews","totalRating","reduce","sum","statsLoading","stats","follows","fetchCollectionStats","collectionsToCount","counts","promises","coll","colName","getCountFromServer","message","_component_EditReviewModal","reviewToEdit","handleSaveReview","populatedReviews","handleDeleteReview","editableReview","allTags","photoRemoved","newReview","newPhotoDataUrl","EditReviewModal","window","deleteObject","catch","updatedPayload","originalReview","find","oldPhotoRef","warn","getRankClass","followers","fetchFollowers","followerIds","usersData","followersWithDetails","showCompleted","active","filteredItems","item","removeFromBucketList","bucketListItems","fetchBucketList","items","restaurantIds","filtered","itemId","unfollowUser","fetchFollowing","followingWithDetails","userToUnfollow","seedSampleData","description","Home","Restaurants","BucketList","UserSearch","Review","Recommendations","DatabaseStats","MyReviews","Leaderboard","Followers","Following","innerWidth","registration","refreshing","waiting","postMessage","onUpdateAvailable","detail","addEventListener","once","serviceWorker","reload","email","componentMap","onAuthStateChanged","userRef","userSnap","setDoc","signInWithPopup","signOut","render","register","ready","registered","cached","updatefound","updated","dispatchEvent","CustomEvent","offline","createApp","App","mount","YOUR_EMAIL_FOR_NOMINATIM","response","fetch","json","lon","parseFloat","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","definition","o","defineProperty","enumerable","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}